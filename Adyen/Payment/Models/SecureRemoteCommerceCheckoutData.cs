// <auto-generated>
/*
 * Adyen Payment API
 *
 * A set of API endpoints that allow you to initiate, settle, and modify payments on the Adyen payments platform. You can use the API to accept card payments (including One-Click and 3D Secure), bank transfers, ewallets, and many other payment methods.  To learn more about the API, visit [Classic integration](https://docs.adyen.com/classic-integration).  ## Authentication You need an [API credential](https://docs.adyen.com/development-resources/api-credentials) to authenticate to the API.  If using an API key, add an `X-API-Key` header with the API key as the value, for example:   ``` curl -H \"Content-Type: application/json\" \\ -H \"X-API-Key: YOUR_API_KEY\" \\ ... ```  Alternatively, you can use the username and password to connect to the API using basic authentication, for example:  ``` curl -U \"ws@Company.YOUR_COMPANY_ACCOUNT\":\"YOUR_BASIC_AUTHENTICATION_PASSWORD\" \\ -H \"Content-Type: application/json\" \\ ... ```  ## Versioning Payments API supports [versioning](https://docs.adyen.com/development-resources/versioning) using a version suffix in the endpoint URL. This suffix has the following format: \"vXX\", where XX is the version number.  For example: ``` https://pal-test.adyen.com/pal/servlet/Payment/v68/authorise ```  ## Going live  To authenticate to the live endpoints, you need an [API credential](https://docs.adyen.com/development-resources/api-credentials) from your live Customer Area.  The live endpoint URLs contain a prefix which is unique to your company account: ```  https://{PREFIX}-pal-live.adyenpayments.com/pal/servlet/Payment/v68/authorise ```  Get your `{PREFIX}` from your live Customer Area under **Developers** > **API URLs** > **Prefix**.
 *
 * The version of the OpenAPI document: 68
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.Payment.Client;

namespace Adyen.Payment.Models
{
    /// <summary>
    /// SecureRemoteCommerceCheckoutData.
    /// </summary>
    public partial class SecureRemoteCommerceCheckoutData : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="SecureRemoteCommerceCheckoutData" /> class.
        /// </summary>
        /// <param name="checkoutPayload">The Secure Remote Commerce checkout payload to process the payment with.</param>
        /// <param name="correlationId">This is the unique identifier generated by SRC system to track and link SRC messages. Available within the present checkout session (e.g. received in an earlier API response during the present session).</param>
        /// <param name="cvc">The [card verification code](https://docs.adyen.com/get-started-with-adyen/payment-glossary/#card-security-code-cvc-cvv-cid).</param>
        /// <param name="digitalCardId">A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;mc&#39;.</param>
        /// <param name="scheme">The Secure Remote Commerce scheme.</param>
        /// <param name="tokenReference">A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;visa&#39;.</param>
        [JsonConstructor]
        public SecureRemoteCommerceCheckoutData(Option<string?> checkoutPayload = default, Option<string?> correlationId = default, Option<string?> cvc = default, Option<string?> digitalCardId = default, Option<SchemeEnum?> scheme = default, Option<string?> tokenReference = default)
        {
            _CheckoutPayloadOption = checkoutPayload;
            _CorrelationIdOption = correlationId;
            _CvcOption = cvc;
            _DigitalCardIdOption = digitalCardId;
            _SchemeOption = scheme;
            _TokenReferenceOption = tokenReference;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the parameterized constructor above to initialize your objects to understand which parameters are required.
        /// </summary>
        public SecureRemoteCommerceCheckoutData()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// The Secure Remote Commerce scheme.
        /// </summary>
        /// <value>The Secure Remote Commerce scheme.</value>
        [JsonConverter(typeof(SchemeEnumJsonConverter))]
        public class SchemeEnum : IEnum
        {
            /// <summary>
            /// Returns the value of the SchemeEnum.
            /// </summary>
            public string? Value { get; set; }

            /// <summary>
            /// SchemeEnum.Mc - mc
            /// </summary>
            public static readonly SchemeEnum Mc = new("mc");

            /// <summary>
            /// SchemeEnum.Visa - visa
            /// </summary>
            public static readonly SchemeEnum Visa = new("visa");
        
            private SchemeEnum(string? value)
            {
                Value = value;
            }

            /// <summary>
            /// Converts a string to a <see cref="SchemeEnum"/> implicitly.
            /// </summary>
            /// <param name="value">The string value to convert. Defaults to null.</param>
            /// <returns>A new <see cref="SchemeEnum"/> instance initialized with the string value.</returns>
            public static implicit operator SchemeEnum?(string? value) => value == null ? null : new SchemeEnum(value);
    
            /// <summary>
            /// Converts a <see cref="SchemeEnum"/> instance to a string implicitly.
            /// </summary>
            /// <param name="option">The <see cref="SchemeEnum"/> instance. Default to null.</param>
            /// <returns>String value of the <see cref="SchemeEnum"/> instance./// </returns>
            public static implicit operator string?(SchemeEnum? option) => option?.Value;
        
            public static bool operator ==(SchemeEnum? left, SchemeEnum? right) => string.Equals(left?.Value, right?.Value, StringComparison.OrdinalIgnoreCase);
    
            public static bool operator !=(SchemeEnum? left, SchemeEnum? right) => !string.Equals(left?.Value, right?.Value, StringComparison.OrdinalIgnoreCase);

            public override bool Equals(object? obj) => obj is SchemeEnum other && string.Equals(Value, other.Value, StringComparison.OrdinalIgnoreCase);
    
            public override int GetHashCode() => Value?.GetHashCode() ?? 0;
        
            public override string ToString() => Value ?? string.Empty;
        
            /// <summary>
            /// Returns a <see cref="SchemeEnum?"/>.
            /// </summary>
            /// <param name="value"></param>
            /// <returns><see cref="SchemeEnum"/> or null.</returns>
            public static SchemeEnum? FromStringOrDefault(string value)
            {
                return value switch {
                    "mc" => SchemeEnum.Mc,
                    "visa" => SchemeEnum.Visa,
                    _ => null,
                };
            }
    
            /// <summary>
            /// Converts the <see cref="SchemeEnum"/> to the json value.
            /// </summary>
            /// <param name="value"><see cref="SchemeEnum"/></param>
            /// <returns>String value of the enum.</returns>
            /// <exception cref="NotImplementedException"></exception>
            public static string? ToJsonValue(SchemeEnum? value)
            {
                if (value == null)
                    return null;
            
                if (value == SchemeEnum.Mc)
                    return "mc";
                
                if (value == SchemeEnum.Visa)
                    return "visa";
                
                return null;
            }
            
            /// <summary>
            /// JsonConverter for writing SchemeEnum.               
            /// </summary>
            public class SchemeEnumJsonConverter : JsonConverter<SchemeEnum>
            {
                public override SchemeEnum? Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions jsonOptions)
                {
                    string value = reader.GetString();
                    return value == null ? null : SchemeEnum.FromStringOrDefault(value) ?? new SchemeEnum(value);
                }

                public override void Write(Utf8JsonWriter writer, SchemeEnum value, JsonSerializerOptions jsonOptions)
                {
                    writer.WriteStringValue(SchemeEnum.ToJsonValue(value));
                }
            }
        }

         /// <summary>
        /// Used to track if an optional field is set. If set, <see cref="Scheme"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<SchemeEnum?> _SchemeOption { get; private set; }

        /// <summary>
        /// The Secure Remote Commerce scheme.
        /// </summary>
        /// <value>The Secure Remote Commerce scheme.</value>
        [JsonPropertyName("scheme")]
        public SchemeEnum? Scheme { get { return this._SchemeOption; } set { this._SchemeOption = new(value); } }

        /// <summary>
        /// Used to track the state of CheckoutPayload
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _CheckoutPayloadOption { get; private set; }

        /// <summary>
        /// The Secure Remote Commerce checkout payload to process the payment with.
        /// </summary>
        /// <value>The Secure Remote Commerce checkout payload to process the payment with.</value>
        [JsonPropertyName("checkoutPayload")]
        public string? CheckoutPayload { get { return this._CheckoutPayloadOption; } set { this._CheckoutPayloadOption = new(value); } }

        /// <summary>
        /// Used to track the state of CorrelationId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _CorrelationIdOption { get; private set; }

        /// <summary>
        /// This is the unique identifier generated by SRC system to track and link SRC messages. Available within the present checkout session (e.g. received in an earlier API response during the present session).
        /// </summary>
        /// <value>This is the unique identifier generated by SRC system to track and link SRC messages. Available within the present checkout session (e.g. received in an earlier API response during the present session).</value>
        [JsonPropertyName("correlationId")]
        public string? CorrelationId { get { return this._CorrelationIdOption; } set { this._CorrelationIdOption = new(value); } }

        /// <summary>
        /// Used to track the state of Cvc
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _CvcOption { get; private set; }

        /// <summary>
        /// The [card verification code](https://docs.adyen.com/get-started-with-adyen/payment-glossary/#card-security-code-cvc-cvv-cid).
        /// </summary>
        /// <value>The [card verification code](https://docs.adyen.com/get-started-with-adyen/payment-glossary/#card-security-code-cvc-cvv-cid).</value>
        [JsonPropertyName("cvc")]
        public string? Cvc { get { return this._CvcOption; } set { this._CvcOption = new(value); } }

        /// <summary>
        /// Used to track the state of DigitalCardId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _DigitalCardIdOption { get; private set; }

        /// <summary>
        /// A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;mc&#39;.
        /// </summary>
        /// <value>A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;mc&#39;.</value>
        [JsonPropertyName("digitalCardId")]
        public string? DigitalCardId { get { return this._DigitalCardIdOption; } set { this._DigitalCardIdOption = new(value); } }

        /// <summary>
        /// Used to track the state of TokenReference
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _TokenReferenceOption { get; private set; }

        /// <summary>
        /// A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;visa&#39;.
        /// </summary>
        /// <value>A unique identifier that represents the token associated with a card enrolled. Required for scheme &#39;visa&#39;.</value>
        [JsonPropertyName("tokenReference")]
        public string? TokenReference { get { return this._TokenReferenceOption; } set { this._TokenReferenceOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class SecureRemoteCommerceCheckoutData {\n");
            sb.Append("  CheckoutPayload: ").Append(CheckoutPayload).Append("\n");
            sb.Append("  CorrelationId: ").Append(CorrelationId).Append("\n");
            sb.Append("  Cvc: ").Append(Cvc).Append("\n");
            sb.Append("  DigitalCardId: ").Append(DigitalCardId).Append("\n");
            sb.Append("  Scheme: ").Append(Scheme).Append("\n");
            sb.Append("  TokenReference: ").Append(TokenReference).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            // CheckoutPayload (string) maxLength
            if (this.CheckoutPayload != null && this.CheckoutPayload.Length > 10000)
            {
                yield return new ValidationResult("Invalid value for CheckoutPayload, length must be less than 10000.", new [] { "CheckoutPayload" });
            }

            // CorrelationId (string) maxLength
            if (this.CorrelationId != null && this.CorrelationId.Length > 40)
            {
                yield return new ValidationResult("Invalid value for CorrelationId, length must be less than 40.", new [] { "CorrelationId" });
            }

            // CorrelationId (string) minLength
            if (this.CorrelationId != null && this.CorrelationId.Length < 1)
            {
                yield return new ValidationResult("Invalid value for CorrelationId, length must be greater than 1.", new [] { "CorrelationId" });
            }

            // Cvc (string) maxLength
            if (this.Cvc != null && this.Cvc.Length > 20)
            {
                yield return new ValidationResult("Invalid value for Cvc, length must be less than 20.", new [] { "Cvc" });
            }

            // Cvc (string) minLength
            if (this.Cvc != null && this.Cvc.Length < 1)
            {
                yield return new ValidationResult("Invalid value for Cvc, length must be greater than 1.", new [] { "Cvc" });
            }

            // DigitalCardId (string) maxLength
            if (this.DigitalCardId != null && this.DigitalCardId.Length > 80)
            {
                yield return new ValidationResult("Invalid value for DigitalCardId, length must be less than 80.", new [] { "DigitalCardId" });
            }

            // TokenReference (string) maxLength
            if (this.TokenReference != null && this.TokenReference.Length > 80)
            {
                yield return new ValidationResult("Invalid value for TokenReference, length must be less than 80.", new [] { "TokenReference" });
            }

            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="SecureRemoteCommerceCheckoutData" />
    /// </summary>
    public class SecureRemoteCommerceCheckoutDataJsonConverter : JsonConverter<SecureRemoteCommerceCheckoutData>
    {
        /// <summary>
        /// Deserializes json to <see cref="SecureRemoteCommerceCheckoutData"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="SecureRemoteCommerceCheckoutData"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override SecureRemoteCommerceCheckoutData Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> checkoutPayload = default;
            Option<string?> correlationId = default;
            Option<string?> cvc = default;
            Option<string?> digitalCardId = default;
            Option<SecureRemoteCommerceCheckoutData.SchemeEnum?> scheme = default;
            Option<string?> tokenReference = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "checkoutPayload":
                            checkoutPayload = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "correlationId":
                            correlationId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "cvc":
                            cvc = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "digitalCardId":
                            digitalCardId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "scheme":
                            string? schemeRawValue = utf8JsonReader.GetString();
                            scheme = new Option<SecureRemoteCommerceCheckoutData.SchemeEnum?>(SecureRemoteCommerceCheckoutData.SchemeEnum.FromStringOrDefault(schemeRawValue));
                            break;
                        case "tokenReference":
                            tokenReference = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            

            return new SecureRemoteCommerceCheckoutData(checkoutPayload, correlationId, cvc, digitalCardId, scheme, tokenReference);
        }

        /// <summary>
        /// Serializes a <see cref="SecureRemoteCommerceCheckoutData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="secureRemoteCommerceCheckoutData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, SecureRemoteCommerceCheckoutData secureRemoteCommerceCheckoutData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, secureRemoteCommerceCheckoutData, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="SecureRemoteCommerceCheckoutData"/>.
        /// </summary>
        /// <param name="writer"><see creft="Utf8JsonWriter"/></param>
        /// <param name="secureRemoteCommerceCheckoutData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, SecureRemoteCommerceCheckoutData secureRemoteCommerceCheckoutData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (secureRemoteCommerceCheckoutData._CheckoutPayloadOption.IsSet)
                if (secureRemoteCommerceCheckoutData.CheckoutPayload != null)
                    writer.WriteString("checkoutPayload", secureRemoteCommerceCheckoutData.CheckoutPayload);

            if (secureRemoteCommerceCheckoutData._CorrelationIdOption.IsSet)
                if (secureRemoteCommerceCheckoutData.CorrelationId != null)
                    writer.WriteString("correlationId", secureRemoteCommerceCheckoutData.CorrelationId);

            if (secureRemoteCommerceCheckoutData._CvcOption.IsSet)
                if (secureRemoteCommerceCheckoutData.Cvc != null)
                    writer.WriteString("cvc", secureRemoteCommerceCheckoutData.Cvc);

            if (secureRemoteCommerceCheckoutData._DigitalCardIdOption.IsSet)
                if (secureRemoteCommerceCheckoutData.DigitalCardId != null)
                    writer.WriteString("digitalCardId", secureRemoteCommerceCheckoutData.DigitalCardId);

            if (secureRemoteCommerceCheckoutData._SchemeOption.IsSet && secureRemoteCommerceCheckoutData.Scheme != null) 
            {
                string? schemeRawValue = SecureRemoteCommerceCheckoutData.SchemeEnum.ToJsonValue(secureRemoteCommerceCheckoutData._SchemeOption.Value!.Value);
                writer.WriteString("scheme", schemeRawValue);
            }
            
            if (secureRemoteCommerceCheckoutData._TokenReferenceOption.IsSet)
                if (secureRemoteCommerceCheckoutData.TokenReference != null)
                    writer.WriteString("tokenReference", secureRemoteCommerceCheckoutData.TokenReference);
        }
    }
}
