// <auto-generated>
/*
 * Adyen Payment API
 *
 * A set of API endpoints that allow you to initiate, settle, and modify payments on the Adyen payments platform. You can use the API to accept card payments (including One-Click and 3D Secure), bank transfers, ewallets, and many other payment methods.  To learn more about the API, visit [Classic integration](https://docs.adyen.com/classic-integration).  ## Authentication You need an [API credential](https://docs.adyen.com/development-resources/api-credentials) to authenticate to the API.  If using an API key, add an `X-API-Key` header with the API key as the value, for example:   ``` curl -H \"Content-Type: application/json\" \\ -H \"X-API-Key: YOUR_API_KEY\" \\ ... ```  Alternatively, you can use the username and password to connect to the API using basic authentication, for example:  ``` curl -U \"ws@Company.YOUR_COMPANY_ACCOUNT\":\"YOUR_BASIC_AUTHENTICATION_PASSWORD\" \\ -H \"Content-Type: application/json\" \\ ... ```  ## Versioning Payments API supports [versioning](https://docs.adyen.com/development-resources/versioning) using a version suffix in the endpoint URL. This suffix has the following format: \"vXX\", where XX is the version number.  For example: ``` https://pal-test.adyen.com/pal/servlet/Payment/v68/authorise ```  ## Going live  To authenticate to the live endpoints, you need an [API credential](https://docs.adyen.com/development-resources/api-credentials) from your live Customer Area.  The live endpoint URLs contain a prefix which is unique to your company account: ```  https://{PREFIX}-pal-live.adyenpayments.com/pal/servlet/Payment/v68/authorise ```  Get your `{PREFIX}` from your live Customer Area under **Developers** > **API URLs** > **Prefix**.
 *
 * The version of the OpenAPI document: 68
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.Payment.Client;

namespace Adyen.Payment.Models
{
    /// <summary>
    /// ForexQuote.
    /// </summary>
    public partial class ForexQuote : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="ForexQuote" /> class.
        /// </summary>
        /// <param name="basePoints">The base points.</param>
        /// <param name="validTill">The date until which the forex quote is valid.</param>
        /// <param name="account">The account name.</param>
        /// <param name="accountType">The account type.</param>
        /// <param name="baseAmount">baseAmount</param>
        /// <param name="buy">buy</param>
        /// <param name="interbank">interbank</param>
        /// <param name="reference">The reference assigned to the forex quote request.</param>
        /// <param name="sell">sell</param>
        /// <param name="signature">The signature to validate the integrity.</param>
        /// <param name="source">The source of the forex quote.</param>
        /// <param name="type">The type of forex.</param>
        [JsonConstructor]
        public ForexQuote(int basePoints, DateTimeOffset validTill, Option<string?> account = default, Option<string?> accountType = default, Option<Amount?> baseAmount = default, Option<Amount?> buy = default, Option<Amount?> interbank = default, Option<string?> reference = default, Option<Amount?> sell = default, Option<string?> signature = default, Option<string?> source = default, Option<string?> type = default)
        {
            BasePoints = basePoints;
            ValidTill = validTill;
            _AccountOption = account;
            _AccountTypeOption = accountType;
            _BaseAmountOption = baseAmount;
            _BuyOption = buy;
            _InterbankOption = interbank;
            _ReferenceOption = reference;
            _SellOption = sell;
            _SignatureOption = signature;
            _SourceOption = source;
            _TypeOption = type;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The base points.
        /// </summary>
        /// <value>The base points.</value>
        [JsonPropertyName("basePoints")]
        public int BasePoints { get; set; }

        /// <summary>
        /// The date until which the forex quote is valid.
        /// </summary>
        /// <value>The date until which the forex quote is valid.</value>
        [JsonPropertyName("validTill")]
        public DateTimeOffset ValidTill { get; set; }

        /// <summary>
        /// Used to track the state of Account
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _AccountOption { get; private set; }

        /// <summary>
        /// The account name.
        /// </summary>
        /// <value>The account name.</value>
        [JsonPropertyName("account")]
        public string? Account { get { return this._AccountOption; } set { this._AccountOption = new(value); } }

        /// <summary>
        /// Used to track the state of AccountType
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _AccountTypeOption { get; private set; }

        /// <summary>
        /// The account type.
        /// </summary>
        /// <value>The account type.</value>
        [JsonPropertyName("accountType")]
        public string? AccountType { get { return this._AccountTypeOption; } set { this._AccountTypeOption = new(value); } }

        /// <summary>
        /// Used to track the state of BaseAmount
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Amount?> _BaseAmountOption { get; private set; }

        /// <summary>
        /// Gets or Sets BaseAmount
        /// </summary>
        [JsonPropertyName("baseAmount")]
        public Amount? BaseAmount { get { return this._BaseAmountOption; } set { this._BaseAmountOption = new(value); } }

        /// <summary>
        /// Used to track the state of Buy
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Amount?> _BuyOption { get; private set; }

        /// <summary>
        /// Gets or Sets Buy
        /// </summary>
        [JsonPropertyName("buy")]
        public Amount? Buy { get { return this._BuyOption; } set { this._BuyOption = new(value); } }

        /// <summary>
        /// Used to track the state of Interbank
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Amount?> _InterbankOption { get; private set; }

        /// <summary>
        /// Gets or Sets Interbank
        /// </summary>
        [JsonPropertyName("interbank")]
        public Amount? Interbank { get { return this._InterbankOption; } set { this._InterbankOption = new(value); } }

        /// <summary>
        /// Used to track the state of Reference
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _ReferenceOption { get; private set; }

        /// <summary>
        /// The reference assigned to the forex quote request.
        /// </summary>
        /// <value>The reference assigned to the forex quote request.</value>
        [JsonPropertyName("reference")]
        public string? Reference { get { return this._ReferenceOption; } set { this._ReferenceOption = new(value); } }

        /// <summary>
        /// Used to track the state of Sell
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Amount?> _SellOption { get; private set; }

        /// <summary>
        /// Gets or Sets Sell
        /// </summary>
        [JsonPropertyName("sell")]
        public Amount? Sell { get { return this._SellOption; } set { this._SellOption = new(value); } }

        /// <summary>
        /// Used to track the state of Signature
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _SignatureOption { get; private set; }

        /// <summary>
        /// The signature to validate the integrity.
        /// </summary>
        /// <value>The signature to validate the integrity.</value>
        [JsonPropertyName("signature")]
        public string? Signature { get { return this._SignatureOption; } set { this._SignatureOption = new(value); } }

        /// <summary>
        /// Used to track the state of Source
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _SourceOption { get; private set; }

        /// <summary>
        /// The source of the forex quote.
        /// </summary>
        /// <value>The source of the forex quote.</value>
        [JsonPropertyName("source")]
        public string? Source { get { return this._SourceOption; } set { this._SourceOption = new(value); } }

        /// <summary>
        /// Used to track the state of Type
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _TypeOption { get; private set; }

        /// <summary>
        /// The type of forex.
        /// </summary>
        /// <value>The type of forex.</value>
        [JsonPropertyName("type")]
        public string? Type { get { return this._TypeOption; } set { this._TypeOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class ForexQuote {\n");
            sb.Append("  BasePoints: ").Append(BasePoints).Append("\n");
            sb.Append("  ValidTill: ").Append(ValidTill).Append("\n");
            sb.Append("  Account: ").Append(Account).Append("\n");
            sb.Append("  AccountType: ").Append(AccountType).Append("\n");
            sb.Append("  BaseAmount: ").Append(BaseAmount).Append("\n");
            sb.Append("  Buy: ").Append(Buy).Append("\n");
            sb.Append("  Interbank: ").Append(Interbank).Append("\n");
            sb.Append("  Reference: ").Append(Reference).Append("\n");
            sb.Append("  Sell: ").Append(Sell).Append("\n");
            sb.Append("  Signature: ").Append(Signature).Append("\n");
            sb.Append("  Source: ").Append(Source).Append("\n");
            sb.Append("  Type: ").Append(Type).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="ForexQuote" />
    /// </summary>
    public class ForexQuoteJsonConverter : JsonConverter<ForexQuote>
    {
        /// <summary>
        /// The format to use to serialize ValidTill.
        /// </summary>
        public static string ValidTillFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="ForexQuote"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="ForexQuote"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override ForexQuote Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<int?> basePoints = default;
            Option<DateTimeOffset?> validTill = default;
            Option<string?> account = default;
            Option<string?> accountType = default;
            Option<Amount?> baseAmount = default;
            Option<Amount?> buy = default;
            Option<Amount?> interbank = default;
            Option<string?> reference = default;
            Option<Amount?> sell = default;
            Option<string?> signature = default;
            Option<string?> source = default;
            Option<string?> type = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "basePoints":
                            basePoints = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "validTill":
                            validTill = new Option<DateTimeOffset?>(JsonSerializer.Deserialize<DateTimeOffset>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "account":
                            account = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "accountType":
                            accountType = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "baseAmount":
                            baseAmount = new Option<Amount?>(JsonSerializer.Deserialize<Amount>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "buy":
                            buy = new Option<Amount?>(JsonSerializer.Deserialize<Amount>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "interbank":
                            interbank = new Option<Amount?>(JsonSerializer.Deserialize<Amount>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "reference":
                            reference = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "sell":
                            sell = new Option<Amount?>(JsonSerializer.Deserialize<Amount>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "signature":
                            signature = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "source":
                            source = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "type":
                            type = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!basePoints.IsSet)
                throw new ArgumentException("Property is required for class ForexQuote.", nameof(basePoints));

            if (!validTill.IsSet)
                throw new ArgumentException("Property is required for class ForexQuote.", nameof(validTill));

            return new ForexQuote(basePoints.Value!.Value!, validTill.Value!.Value!, account, accountType, baseAmount, buy, interbank, reference, sell, signature, source, type);
        }

        /// <summary>
        /// Serializes a <see cref="ForexQuote"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="forexQuote"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, ForexQuote forexQuote, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, forexQuote, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="ForexQuote"/>.
        /// </summary>
        /// <param name="writer"><see creft="Utf8JsonWriter"/></param>
        /// <param name="forexQuote"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, ForexQuote forexQuote, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteNumber("basePoints", forexQuote.BasePoints);

            writer.WriteString("validTill", forexQuote.ValidTill.ToString(ValidTillFormat));

            if (forexQuote._AccountOption.IsSet)
                if (forexQuote.Account != null)
                    writer.WriteString("account", forexQuote.Account);

            if (forexQuote._AccountTypeOption.IsSet)
                if (forexQuote.AccountType != null)
                    writer.WriteString("accountType", forexQuote.AccountType);

            if (forexQuote._BaseAmountOption.IsSet)
            {
                writer.WritePropertyName("baseAmount");
                JsonSerializer.Serialize(writer, forexQuote.BaseAmount, jsonSerializerOptions);
            }
            if (forexQuote._BuyOption.IsSet)
            {
                writer.WritePropertyName("buy");
                JsonSerializer.Serialize(writer, forexQuote.Buy, jsonSerializerOptions);
            }
            if (forexQuote._InterbankOption.IsSet)
            {
                writer.WritePropertyName("interbank");
                JsonSerializer.Serialize(writer, forexQuote.Interbank, jsonSerializerOptions);
            }
            if (forexQuote._ReferenceOption.IsSet)
                if (forexQuote.Reference != null)
                    writer.WriteString("reference", forexQuote.Reference);

            if (forexQuote._SellOption.IsSet)
            {
                writer.WritePropertyName("sell");
                JsonSerializer.Serialize(writer, forexQuote.Sell, jsonSerializerOptions);
            }
            if (forexQuote._SignatureOption.IsSet)
                if (forexQuote.Signature != null)
                    writer.WriteString("signature", forexQuote.Signature);

            if (forexQuote._SourceOption.IsSet)
                if (forexQuote.Source != null)
                    writer.WriteString("source", forexQuote.Source);

            if (forexQuote._TypeOption.IsSet)
                if (forexQuote.Type != null)
                    writer.WriteString("type", forexQuote.Type);
        }
    }
}
