// <auto-generated>
/*
 * Management API
 *
 * Configure and manage your Adyen company and merchant accounts, stores, and payment terminals. ## Authentication Each request to the Management API must be signed with an API key. [Generate your API key](https://docs.adyen.com/development-resources/api-credentials#generate-api-key) in the Customer Area and then set this key to the `X-API-Key` header value.  To access the live endpoints, you need to generate a new API key in your live Customer Area. ## Versioning  Management API handles versioning as part of the endpoint URL. For example, to send a request to this version of the `/companies/{companyId}/webhooks` endpoint, use:  ```text https://management-test.adyen.com/v3/companies/{companyId}/webhooks ```  ## Going live  To access the live endpoints, you need an API key from your live Customer Area. Use this API key to make requests to:  ```text https://management-live.adyen.com/v3 ```  ## Release notes Have a look at the [release notes](https://docs.adyen.com/release-notes/management-api) to find out what changed in this version!
 *
 * The version of the OpenAPI document: 3
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.Management.Client;

namespace Adyen.Management.Models
{
    /// <summary>
    /// ApiCredential.
    /// </summary>
    public partial class ApiCredential : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="ApiCredential" /> class.
        /// </summary>
        /// <param name="active">Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.</param>
        /// <param name="allowedIpAddresses">List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.</param>
        /// <param name="clientKey">Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.</param>
        /// <param name="id">Unique identifier of the API credential.</param>
        /// <param name="roles">List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.</param>
        /// <param name="username">The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.</param>
        /// <param name="links">links</param>
        /// <param name="allowedOrigins">List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.</param>
        /// <param name="description">Description of the API credential.</param>
        [JsonConstructor]
        public ApiCredential(bool active, List<string> allowedIpAddresses, string clientKey, string id, List<string> roles, string username, Option<ApiCredentialLinks?> links = default, Option<List<AllowedOrigin>?> allowedOrigins = default, Option<string?> description = default)
        {
            Active = active;
            AllowedIpAddresses = allowedIpAddresses;
            ClientKey = clientKey;
            Id = id;
            Roles = roles;
            Username = username;
            _LinksOption = links;
            _AllowedOriginsOption = allowedOrigins;
            _DescriptionOption = description;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.
        /// </summary>
        /// <value>Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.</value>
        [JsonPropertyName("active")]
        public bool Active { get; set; }

        /// <summary>
        /// List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.
        /// </summary>
        /// <value>List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.</value>
        [JsonPropertyName("allowedIpAddresses")]
        public List<string> AllowedIpAddresses { get; set; }

        /// <summary>
        /// Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.
        /// </summary>
        /// <value>Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.</value>
        [JsonPropertyName("clientKey")]
        public string ClientKey { get; set; }

        /// <summary>
        /// Unique identifier of the API credential.
        /// </summary>
        /// <value>Unique identifier of the API credential.</value>
        [JsonPropertyName("id")]
        public string Id { get; set; }

        /// <summary>
        /// List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.
        /// </summary>
        /// <value>List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.</value>
        [JsonPropertyName("roles")]
        public List<string> Roles { get; set; }

        /// <summary>
        /// The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.
        /// </summary>
        /// <value>The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.</value>
        [JsonPropertyName("username")]
        public string Username { get; set; }

        /// <summary>
        /// Used to track the state of Links
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<ApiCredentialLinks?> _LinksOption { get; private set; }

        /// <summary>
        /// Gets or Sets Links
        /// </summary>
        [JsonPropertyName("_links")]
        public ApiCredentialLinks? Links { get { return this._LinksOption; } set { this._LinksOption = new(value); } }

        /// <summary>
        /// Used to track the state of AllowedOrigins
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<AllowedOrigin>?> _AllowedOriginsOption { get; private set; }

        /// <summary>
        /// List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.
        /// </summary>
        /// <value>List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.</value>
        [JsonPropertyName("allowedOrigins")]
        public List<AllowedOrigin>? AllowedOrigins { get { return this._AllowedOriginsOption; } set { this._AllowedOriginsOption = new(value); } }

        /// <summary>
        /// Used to track the state of Description
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _DescriptionOption { get; private set; }

        /// <summary>
        /// Description of the API credential.
        /// </summary>
        /// <value>Description of the API credential.</value>
        [JsonPropertyName("description")]
        public string? Description { get { return this._DescriptionOption; } set { this._DescriptionOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class ApiCredential {\n");
            sb.Append("  Active: ").Append(Active).Append("\n");
            sb.Append("  AllowedIpAddresses: ").Append(AllowedIpAddresses).Append("\n");
            sb.Append("  ClientKey: ").Append(ClientKey).Append("\n");
            sb.Append("  Id: ").Append(Id).Append("\n");
            sb.Append("  Roles: ").Append(Roles).Append("\n");
            sb.Append("  Username: ").Append(Username).Append("\n");
            sb.Append("  Links: ").Append(Links).Append("\n");
            sb.Append("  AllowedOrigins: ").Append(AllowedOrigins).Append("\n");
            sb.Append("  Description: ").Append(Description).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            // Description (string) maxLength
            if (this.Description != null && this.Description.Length > 50)
            {
                yield return new ValidationResult("Invalid value for Description, length must be less than 50.", new [] { "Description" });
            }

            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="ApiCredential" />
    /// </summary>
    public class ApiCredentialJsonConverter : JsonConverter<ApiCredential>
    {
        /// <summary>
        /// Deserializes json to <see cref="ApiCredential"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/></param>
        /// <param name="typeToConvert"><see cref="Type"/></param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="ApiCredential"/></returns>
        /// <exception cref="JsonException"></exception>
        public override ApiCredential Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<bool?> active = default;
            Option<List<string>?> allowedIpAddresses = default;
            Option<string?> clientKey = default;
            Option<string?> id = default;
            Option<List<string>?> roles = default;
            Option<string?> username = default;
            Option<ApiCredentialLinks?> links = default;
            Option<List<AllowedOrigin>?> allowedOrigins = default;
            Option<string?> description = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "active":
                            active = new Option<bool?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (bool?)null : utf8JsonReader.GetBoolean());
                            break;
                        case "allowedIpAddresses":
                            allowedIpAddresses = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "clientKey":
                            clientKey = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "id":
                            id = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "roles":
                            roles = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "username":
                            username = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "_links":
                            links = new Option<ApiCredentialLinks?>(JsonSerializer.Deserialize<ApiCredentialLinks>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "allowedOrigins":
                            allowedOrigins = new Option<List<AllowedOrigin>?>(JsonSerializer.Deserialize<List<AllowedOrigin>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "description":
                            description = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!active.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(active));

            if (!allowedIpAddresses.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(allowedIpAddresses));

            if (!clientKey.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(clientKey));

            if (!id.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(id));

            if (!roles.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(roles));

            if (!username.IsSet)
                throw new ArgumentException("Property is required for class ApiCredential.", nameof(username));

            if (active.IsSet && active.Value == null)
                throw new ArgumentNullException(nameof(active), "Property is not nullable for class ApiCredential.");

            if (allowedIpAddresses.IsSet && allowedIpAddresses.Value == null)
                throw new ArgumentNullException(nameof(allowedIpAddresses), "Property is not nullable for class ApiCredential.");

            if (clientKey.IsSet && clientKey.Value == null)
                throw new ArgumentNullException(nameof(clientKey), "Property is not nullable for class ApiCredential.");

            if (id.IsSet && id.Value == null)
                throw new ArgumentNullException(nameof(id), "Property is not nullable for class ApiCredential.");

            if (roles.IsSet && roles.Value == null)
                throw new ArgumentNullException(nameof(roles), "Property is not nullable for class ApiCredential.");

            if (username.IsSet && username.Value == null)
                throw new ArgumentNullException(nameof(username), "Property is not nullable for class ApiCredential.");

            if (links.IsSet && links.Value == null)
                throw new ArgumentNullException(nameof(links), "Property is not nullable for class ApiCredential.");

            if (allowedOrigins.IsSet && allowedOrigins.Value == null)
                throw new ArgumentNullException(nameof(allowedOrigins), "Property is not nullable for class ApiCredential.");

            if (description.IsSet && description.Value == null)
                throw new ArgumentNullException(nameof(description), "Property is not nullable for class ApiCredential.");

            return new ApiCredential(active.Value!.Value!, allowedIpAddresses.Value!, clientKey.Value!, id.Value!, roles.Value!, username.Value!, links, allowedOrigins, description);
        }

        /// <summary>
        /// Serializes a <see cref="ApiCredential"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="apiCredential"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, ApiCredential apiCredential, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, apiCredential, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="ApiCredential"/>.
        /// </summary>
        /// <param name="writer"><see creft="Utf8JsonWriter"/></param>
        /// <param name="apiCredential"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, ApiCredential apiCredential, JsonSerializerOptions jsonSerializerOptions)
        {
            /*
            if (apiCredential.AllowedIpAddresses == null)
                throw new ArgumentNullException(nameof(apiCredential.AllowedIpAddresses), "Property is required for class ApiCredential.");

            if (apiCredential.ClientKey == null)
                throw new ArgumentNullException(nameof(apiCredential.ClientKey), "Property is required for class ApiCredential.");

            if (apiCredential.Id == null)
                throw new ArgumentNullException(nameof(apiCredential.Id), "Property is required for class ApiCredential.");

            if (apiCredential.Roles == null)
                throw new ArgumentNullException(nameof(apiCredential.Roles), "Property is required for class ApiCredential.");

            if (apiCredential.Username == null)
                throw new ArgumentNullException(nameof(apiCredential.Username), "Property is required for class ApiCredential.");

            if (apiCredential._LinksOption.IsSet && apiCredential.Links == null)
                throw new ArgumentNullException(nameof(apiCredential.Links), "Property is required for class ApiCredential.");

            if (apiCredential._AllowedOriginsOption.IsSet && apiCredential.AllowedOrigins == null)
                throw new ArgumentNullException(nameof(apiCredential.AllowedOrigins), "Property is required for class ApiCredential.");

            if (apiCredential._DescriptionOption.IsSet && apiCredential.Description == null)
                throw new ArgumentNullException(nameof(apiCredential.Description), "Property is required for class ApiCredential.");

            */
            
            writer.WriteBoolean("active", apiCredential.Active);

            writer.WritePropertyName("allowedIpAddresses");
            JsonSerializer.Serialize(writer, apiCredential.AllowedIpAddresses, jsonSerializerOptions);
            writer.WriteString("clientKey", apiCredential.ClientKey);

            writer.WriteString("id", apiCredential.Id);

            writer.WritePropertyName("roles");
            JsonSerializer.Serialize(writer, apiCredential.Roles, jsonSerializerOptions);
            writer.WriteString("username", apiCredential.Username);

            if (apiCredential._LinksOption.IsSet)
            {
                writer.WritePropertyName("_links");
                JsonSerializer.Serialize(writer, apiCredential.Links, jsonSerializerOptions);
            }
            if (apiCredential._AllowedOriginsOption.IsSet)
            {
                writer.WritePropertyName("allowedOrigins");
                JsonSerializer.Serialize(writer, apiCredential.AllowedOrigins, jsonSerializerOptions);
            }
            if (apiCredential._DescriptionOption.IsSet)
                writer.WriteString("description", apiCredential.Description);
        }
    }
}
