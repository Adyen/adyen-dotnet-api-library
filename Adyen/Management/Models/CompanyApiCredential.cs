// <auto-generated>
/*
 * Management API
 *
 * Configure and manage your Adyen company and merchant accounts, stores, and payment terminals. ## Authentication Each request to the Management API must be signed with an API key. [Generate your API key](https://docs.adyen.com/development-resources/api-credentials#generate-api-key) in the Customer Area and then set this key to the `X-API-Key` header value.  To access the live endpoints, you need to generate a new API key in your live Customer Area. ## Versioning  Management API handles versioning as part of the endpoint URL. For example, to send a request to this version of the `/companies/{companyId}/webhooks` endpoint, use:  ```text https://management-test.adyen.com/v3/companies/{companyId}/webhooks ```  ## Going live  To access the live endpoints, you need an API key from your live Customer Area. Use this API key to make requests to:  ```text https://management-live.adyen.com/v3 ```  ## Release notes Have a look at the [release notes](https://docs.adyen.com/release-notes/management-api) to find out what changed in this version!
 *
 * The version of the OpenAPI document: 3
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.Management.Client;

namespace Adyen.Management.Models
{
    /// <summary>
    /// CompanyApiCredential.
    /// </summary>
    public partial class CompanyApiCredential
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="CompanyApiCredential" /> class.
        /// </summary>
        /// <param name="active">Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.</param>
        /// <param name="allowedIpAddresses">List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.</param>
        /// <param name="clientKey">Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.</param>
        /// <param name="id">Unique identifier of the API credential.</param>
        /// <param name="roles">List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.</param>
        /// <param name="username">The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.</param>
        /// <param name="links">links</param>
        /// <param name="allowedOrigins">List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.</param>
        /// <param name="associatedMerchantAccounts">List of merchant accounts that the API credential has explicit access to.   If the credential has access to a company, this implies access to all merchant accounts and no merchants for that company will be included.</param>
        /// <param name="description">Description of the API credential.</param>
        [JsonConstructor]
        public CompanyApiCredential(bool active, List<string> allowedIpAddresses, string clientKey, string id, List<string> roles, string username, Option<ApiCredentialLinks?> links = default, Option<List<AllowedOrigin>?> allowedOrigins = default, Option<List<string>?> associatedMerchantAccounts = default, Option<string?> description = default)
        {
            Active = active;
            AllowedIpAddresses = allowedIpAddresses;
            ClientKey = clientKey;
            Id = id;
            Roles = roles;
            Username = username;
            _LinksOption = links;
            _AllowedOriginsOption = allowedOrigins;
            _AssociatedMerchantAccountsOption = associatedMerchantAccounts;
            _DescriptionOption = description;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public CompanyApiCredential()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.
        /// </summary>
        /// <value>Indicates if the API credential is enabled. Must be set to **true** to use the credential in your integration.</value>
        [JsonPropertyName("active")]
        public bool Active { get; set; }

        /// <summary>
        /// List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.
        /// </summary>
        /// <value>List of IP addresses from which your client can make requests.  If the list is empty, we allow requests from any IP. If the list is not empty and we get a request from an IP which is not on the list, you get a security error.</value>
        [JsonPropertyName("allowedIpAddresses")]
        public List<string> AllowedIpAddresses { get; set; }

        /// <summary>
        /// Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.
        /// </summary>
        /// <value>Public key used for [client-side authentication](https://docs.adyen.com/development-resources/client-side-authentication). The client key is required for Drop-in and Components integrations.</value>
        [JsonPropertyName("clientKey")]
        public string ClientKey { get; set; }

        /// <summary>
        /// Unique identifier of the API credential.
        /// </summary>
        /// <value>Unique identifier of the API credential.</value>
        [JsonPropertyName("id")]
        public string Id { get; set; }

        /// <summary>
        /// List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.
        /// </summary>
        /// <value>List of [roles](https://docs.adyen.com/development-resources/api-credentials#roles-1) for the API credential.</value>
        [JsonPropertyName("roles")]
        public List<string> Roles { get; set; }

        /// <summary>
        /// The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.
        /// </summary>
        /// <value>The name of the [API credential](https://docs.adyen.com/development-resources/api-credentials), for example **ws@Company.TestCompany**.</value>
        [JsonPropertyName("username")]
        public string Username { get; set; }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Links"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<ApiCredentialLinks?> _LinksOption { get; private set; }

        /// <summary>
        /// <see cref="Links"/>.
        /// </summary>
        [JsonPropertyName("_links")]
        public ApiCredentialLinks? Links { get { return this._LinksOption; } set { this._LinksOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AllowedOrigins"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<AllowedOrigin>?> _AllowedOriginsOption { get; private set; }

        /// <summary>
        /// List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.
        /// </summary>
        /// <value>List containing the [allowed origins](https://docs.adyen.com/development-resources/client-side-authentication#allowed-origins) linked to the API credential.</value>
        [JsonPropertyName("allowedOrigins")]
        public List<AllowedOrigin>? AllowedOrigins { get { return this._AllowedOriginsOption; } set { this._AllowedOriginsOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AssociatedMerchantAccounts"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<string>?> _AssociatedMerchantAccountsOption { get; private set; }

        /// <summary>
        /// List of merchant accounts that the API credential has explicit access to.   If the credential has access to a company, this implies access to all merchant accounts and no merchants for that company will be included.
        /// </summary>
        /// <value>List of merchant accounts that the API credential has explicit access to.   If the credential has access to a company, this implies access to all merchant accounts and no merchants for that company will be included.</value>
        [JsonPropertyName("associatedMerchantAccounts")]
        public List<string>? AssociatedMerchantAccounts { get { return this._AssociatedMerchantAccountsOption; } set { this._AssociatedMerchantAccountsOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Description"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _DescriptionOption { get; private set; }

        /// <summary>
        /// Description of the API credential.
        /// </summary>
        /// <value>Description of the API credential.</value>
        [JsonPropertyName("description")]
        public string? Description { get { return this._DescriptionOption; } set { this._DescriptionOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class CompanyApiCredential {\n");
            sb.Append("  Active: ").Append(Active).Append("\n");
            sb.Append("  AllowedIpAddresses: ").Append(AllowedIpAddresses).Append("\n");
            sb.Append("  ClientKey: ").Append(ClientKey).Append("\n");
            sb.Append("  Id: ").Append(Id).Append("\n");
            sb.Append("  Roles: ").Append(Roles).Append("\n");
            sb.Append("  Username: ").Append(Username).Append("\n");
            sb.Append("  Links: ").Append(Links).Append("\n");
            sb.Append("  AllowedOrigins: ").Append(AllowedOrigins).Append("\n");
            sb.Append("  AssociatedMerchantAccounts: ").Append(AssociatedMerchantAccounts).Append("\n");
            sb.Append("  Description: ").Append(Description).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="CompanyApiCredential" />
    /// </summary>
    public class CompanyApiCredentialJsonConverter : JsonConverter<CompanyApiCredential>
    {
        /// <summary>
        /// Deserializes json to <see cref="CompanyApiCredential"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="CompanyApiCredential"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override CompanyApiCredential Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<bool?> active = default;
            Option<List<string>?> allowedIpAddresses = default;
            Option<string?> clientKey = default;
            Option<string?> id = default;
            Option<List<string>?> roles = default;
            Option<string?> username = default;
            Option<ApiCredentialLinks?> links = default;
            Option<List<AllowedOrigin>?> allowedOrigins = default;
            Option<List<string>?> associatedMerchantAccounts = default;
            Option<string?> description = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "active":
                            active = new Option<bool?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (bool?)null : utf8JsonReader.GetBoolean());
                            break;
                        case "allowedIpAddresses":
                            allowedIpAddresses = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "clientKey":
                            clientKey = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "id":
                            id = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "roles":
                            roles = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "username":
                            username = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "_links":
                            links = new Option<ApiCredentialLinks?>(JsonSerializer.Deserialize<ApiCredentialLinks>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "allowedOrigins":
                            allowedOrigins = new Option<List<AllowedOrigin>?>(JsonSerializer.Deserialize<List<AllowedOrigin>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "associatedMerchantAccounts":
                            associatedMerchantAccounts = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "description":
                            description = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!active.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(active));

            if (!allowedIpAddresses.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(allowedIpAddresses));

            if (!clientKey.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(clientKey));

            if (!id.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(id));

            if (!roles.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(roles));

            if (!username.IsSet)
                throw new ArgumentException("Property is required for class CompanyApiCredential.", nameof(username));

            return new CompanyApiCredential(active.Value!.Value!, allowedIpAddresses.Value!, clientKey.Value!, id.Value!, roles.Value!, username.Value!, links, allowedOrigins, associatedMerchantAccounts, description);
        }

        /// <summary>
        /// Serializes a <see cref="CompanyApiCredential"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="companyApiCredential"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, CompanyApiCredential companyApiCredential, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, companyApiCredential, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="CompanyApiCredential"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="companyApiCredential"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, CompanyApiCredential companyApiCredential, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteBoolean("active", companyApiCredential.Active);

            writer.WritePropertyName("allowedIpAddresses");
            JsonSerializer.Serialize(writer, companyApiCredential.AllowedIpAddresses, jsonSerializerOptions);
            if (companyApiCredential.ClientKey != null)
                writer.WriteString("clientKey", companyApiCredential.ClientKey);

            if (companyApiCredential.Id != null)
                writer.WriteString("id", companyApiCredential.Id);

            writer.WritePropertyName("roles");
            JsonSerializer.Serialize(writer, companyApiCredential.Roles, jsonSerializerOptions);
            if (companyApiCredential.Username != null)
                writer.WriteString("username", companyApiCredential.Username);

            if (companyApiCredential._LinksOption.IsSet)
            {
                writer.WritePropertyName("_links");
                JsonSerializer.Serialize(writer, companyApiCredential.Links, jsonSerializerOptions);
            }
            if (companyApiCredential._AllowedOriginsOption.IsSet)
            {
                writer.WritePropertyName("allowedOrigins");
                JsonSerializer.Serialize(writer, companyApiCredential.AllowedOrigins, jsonSerializerOptions);
            }
            if (companyApiCredential._AssociatedMerchantAccountsOption.IsSet)
            {
                writer.WritePropertyName("associatedMerchantAccounts");
                JsonSerializer.Serialize(writer, companyApiCredential.AssociatedMerchantAccounts, jsonSerializerOptions);
            }
            if (companyApiCredential._DescriptionOption.IsSet)
                if (companyApiCredential.Description != null)
                    writer.WriteString("description", companyApiCredential.Description);
        }
    }
}
