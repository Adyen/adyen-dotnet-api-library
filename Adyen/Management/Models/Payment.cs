// <auto-generated>
/*
 * Management API
 *
 * Configure and manage your Adyen company and merchant accounts, stores, and payment terminals. ## Authentication Each request to the Management API must be signed with an API key. [Generate your API key](https://docs.adyen.com/development-resources/api-credentials#generate-api-key) in the Customer Area and then set this key to the `X-API-Key` header value.  To access the live endpoints, you need to generate a new API key in your live Customer Area. ## Versioning  Management API handles versioning as part of the endpoint URL. For example, to send a request to this version of the `/companies/{companyId}/webhooks` endpoint, use:  ```text https://management-test.adyen.com/v3/companies/{companyId}/webhooks ```  ## Going live  To access the live endpoints, you need an API key from your live Customer Area. Use this API key to make requests to:  ```text https://management-live.adyen.com/v3 ```  ## Release notes Have a look at the [release notes](https://docs.adyen.com/release-notes/management-api) to find out what changed in this version!
 *
 * The version of the OpenAPI document: 3
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.Management.Client;

namespace Adyen.Management.Models
{
    /// <summary>
    /// Payment.
    /// </summary>
    public partial class Payment
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="Payment" /> class.
        /// </summary>
        /// <param name="contactlessCurrency">The default currency for contactless payments on the payment terminal, in three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code format.  Contact Adyen before you update this setting for the first time. To enable you to change the contactless currency, we first need to check if you meet the compliance requirements.</param>
        /// <param name="hideMinorUnitsInCurrencies">Hides the minor units for the listed [ISO currency codes](https://en.wikipedia.org/wiki/ISO_4217).</param>
        [JsonConstructor]
        public Payment(Option<string?> contactlessCurrency = default, Option<List<string>?> hideMinorUnitsInCurrencies = default)
        {
            _ContactlessCurrencyOption = contactlessCurrency;
            _HideMinorUnitsInCurrenciesOption = hideMinorUnitsInCurrencies;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public Payment()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="ContactlessCurrency"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _ContactlessCurrencyOption { get; private set; }

        /// <summary>
        /// The default currency for contactless payments on the payment terminal, in three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code format.  Contact Adyen before you update this setting for the first time. To enable you to change the contactless currency, we first need to check if you meet the compliance requirements.
        /// </summary>
        /// <value>The default currency for contactless payments on the payment terminal, in three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code format.  Contact Adyen before you update this setting for the first time. To enable you to change the contactless currency, we first need to check if you meet the compliance requirements.</value>
        [JsonPropertyName("contactlessCurrency")]
        public string? ContactlessCurrency { get { return this._ContactlessCurrencyOption; } set { this._ContactlessCurrencyOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="HideMinorUnitsInCurrencies"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<string>?> _HideMinorUnitsInCurrenciesOption { get; private set; }

        /// <summary>
        /// Hides the minor units for the listed [ISO currency codes](https://en.wikipedia.org/wiki/ISO_4217).
        /// </summary>
        /// <value>Hides the minor units for the listed [ISO currency codes](https://en.wikipedia.org/wiki/ISO_4217).</value>
        [JsonPropertyName("hideMinorUnitsInCurrencies")]
        public List<string>? HideMinorUnitsInCurrencies { get { return this._HideMinorUnitsInCurrenciesOption; } set { this._HideMinorUnitsInCurrenciesOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class Payment {\n");
            sb.Append("  ContactlessCurrency: ").Append(ContactlessCurrency).Append("\n");
            sb.Append("  HideMinorUnitsInCurrencies: ").Append(HideMinorUnitsInCurrencies).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="Payment" />
    /// </summary>
    public class PaymentJsonConverter : JsonConverter<Payment>
    {
        /// <summary>
        /// Deserializes json to <see cref="Payment"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="Payment"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override Payment Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> contactlessCurrency = default;
            Option<List<string>?> hideMinorUnitsInCurrencies = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "contactlessCurrency":
                            contactlessCurrency = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "hideMinorUnitsInCurrencies":
                            hideMinorUnitsInCurrencies = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        default:
                            break;
                    }
                }
            }
            

            return new Payment(contactlessCurrency, hideMinorUnitsInCurrencies);
        }

        /// <summary>
        /// Serializes a <see cref="Payment"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="payment"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        public override void Write(Utf8JsonWriter writer, Payment payment, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, payment, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="Payment"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="payment"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        public void WriteProperties(Utf8JsonWriter writer, Payment payment, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (payment._ContactlessCurrencyOption.IsSet)
                if (payment.ContactlessCurrency != null)
                    writer.WriteString("contactlessCurrency", payment.ContactlessCurrency);

            if (payment._HideMinorUnitsInCurrenciesOption.IsSet)
            {
                writer.WritePropertyName("hideMinorUnitsInCurrencies");
                JsonSerializer.Serialize(writer, payment.HideMinorUnitsInCurrencies, jsonSerializerOptions);
            }
        }
    }
}
