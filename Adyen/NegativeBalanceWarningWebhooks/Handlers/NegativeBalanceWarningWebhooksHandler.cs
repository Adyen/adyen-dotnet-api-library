// <auto-generated>
/*
 * Negative balance compensation warning 
 *
 * Adyen sends webhooks to inform you about balance accounts whose balance has been negative for 20 or more days. If you do not transfer funds to that balance account to cover the negative balance before the scheduled compensation date, a transfer is made from your liable balance account on that date.
 *
 * The version of the OpenAPI document: 1
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using Microsoft.Extensions.Logging;
using System.Text.Json;
using Adyen.NegativeBalanceWarningWebhooks.Models;

namespace Adyen.NegativeBalanceWarningWebhooks.Handlers
{
    /// <summary>
    /// Interface for deserializing webhooks.
    /// </summary>
    public interface INegativeBalanceWarningWebhooksHandler
    {
        /// <summary>
        /// Returns the <see cref="JsonSerializerOptionsProvider"/> to deserialize the json payload from the webhook.
        /// </summary>
        Adyen.NegativeBalanceWarningWebhooks.Client.JsonSerializerOptionsProvider JsonSerializerOptionsProvider { get; }
            
        /// <summary>
        /// Uses <see cref="Adyen.NegativeBalanceWarningWebhooks.Client.JsonSerializerOptionsProvider"/> to attempt to deserialize <see cref="NegativeBalanceCompensationWarningNotificationRequest"/>.
        /// </summary>
        /// <exception cref="JsonException"></exception>
        NegativeBalanceCompensationWarningNotificationRequest? DeserializeNegativeBalanceCompensationWarningNotificationRequest(string json);
    }

    /// <summary>
    /// Handler utility function used to deserialize NegativeBalanceWarningWebhooks.
    /// </summary>
    public partial class NegativeBalanceWarningWebhooksHandler : INegativeBalanceWarningWebhooksHandler
    {
        /// <inheritdoc/>
        public Adyen.NegativeBalanceWarningWebhooks.Client.JsonSerializerOptionsProvider JsonSerializerOptionsProvider { get; }
        
        /// <summary>
        /// Initializes the handler utility for deserializing NegativeBalanceWarningWebhooks.
        /// </summary>
        public NegativeBalanceWarningWebhooksHandler(Adyen.NegativeBalanceWarningWebhooks.Client.JsonSerializerOptionsProvider jsonSerializerOptionsProvider)
        {
            JsonSerializerOptionsProvider = jsonSerializerOptionsProvider;
        }

        /// <inheritdoc/>
        public NegativeBalanceCompensationWarningNotificationRequest? DeserializeNegativeBalanceCompensationWarningNotificationRequest(string json)
        {
            return JsonSerializer.Deserialize<NegativeBalanceCompensationWarningNotificationRequest>(json, JsonSerializerOptionsProvider.Options);
        }

    }
}
