// <auto-generated>
/*
 * Negative balance compensation warning 
 *
 * Adyen sends webhooks to inform you about balance accounts whose balance has been negative for 20 or more days. If you do not transfer funds to that balance account to cover the negative balance before the scheduled compensation date, a transfer is made from your liable balance account on that date.
 *
 * The version of the OpenAPI document: 1
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.NegativeBalanceWarningWebhooks.Client;

namespace Adyen.NegativeBalanceWarningWebhooks.Models
{
    /// <summary>
    /// NegativeBalanceCompensationWarningNotificationData.
    /// </summary>
    public partial class NegativeBalanceCompensationWarningNotificationData
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="NegativeBalanceCompensationWarningNotificationData" /> class.
        /// </summary>
        /// <param name="accountHolder">accountHolder</param>
        /// <param name="amount">amount</param>
        /// <param name="balancePlatform">The unique identifier of the balance platform.</param>
        /// <param name="creationDate">The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.</param>
        /// <param name="id">The ID of the resource.</param>
        /// <param name="liableBalanceAccountId">The balance account ID of the account that will be used to compensate the balance account whose balance is negative.</param>
        /// <param name="negativeBalanceSince">The date the balance for the account became negative.</param>
        /// <param name="scheduledCompensationAt">The date when a compensation transfer to the account is scheduled to happen.</param>
        [JsonConstructor]
        public NegativeBalanceCompensationWarningNotificationData(Option<ResourceReference?> accountHolder = default, Option<Amount?> amount = default, Option<string?> balancePlatform = default, Option<DateTimeOffset?> creationDate = default, Option<string?> id = default, Option<string?> liableBalanceAccountId = default, Option<DateTimeOffset?> negativeBalanceSince = default, Option<DateTimeOffset?> scheduledCompensationAt = default)
        {
            _AccountHolderOption = accountHolder;
            _AmountOption = amount;
            _BalancePlatformOption = balancePlatform;
            _CreationDateOption = creationDate;
            _IdOption = id;
            _LiableBalanceAccountIdOption = liableBalanceAccountId;
            _NegativeBalanceSinceOption = negativeBalanceSince;
            _ScheduledCompensationAtOption = scheduledCompensationAt;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public NegativeBalanceCompensationWarningNotificationData()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AccountHolder"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<ResourceReference?> _AccountHolderOption { get; private set; }

        /// <summary>
        /// <see cref="AccountHolder"/>.
        /// </summary>
        [JsonPropertyName("accountHolder")]
        public ResourceReference? AccountHolder { get { return this._AccountHolderOption; } set { this._AccountHolderOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Amount"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Amount?> _AmountOption { get; private set; }

        /// <summary>
        /// <see cref="Amount"/>.
        /// </summary>
        [JsonPropertyName("amount")]
        public Amount? Amount { get { return this._AmountOption; } set { this._AmountOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="BalancePlatform"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _BalancePlatformOption { get; private set; }

        /// <summary>
        /// The unique identifier of the balance platform.
        /// </summary>
        /// <value>The unique identifier of the balance platform.</value>
        [JsonPropertyName("balancePlatform")]
        public string? BalancePlatform { get { return this._BalancePlatformOption; } set { this._BalancePlatformOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="CreationDate"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTimeOffset?> _CreationDateOption { get; private set; }

        /// <summary>
        /// The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.
        /// </summary>
        /// <value>The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.</value>
        [JsonPropertyName("creationDate")]
        public DateTimeOffset? CreationDate { get { return this._CreationDateOption; } set { this._CreationDateOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Id"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _IdOption { get; private set; }

        /// <summary>
        /// The ID of the resource.
        /// </summary>
        /// <value>The ID of the resource.</value>
        [JsonPropertyName("id")]
        public string? Id { get { return this._IdOption; } set { this._IdOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="LiableBalanceAccountId"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _LiableBalanceAccountIdOption { get; private set; }

        /// <summary>
        /// The balance account ID of the account that will be used to compensate the balance account whose balance is negative.
        /// </summary>
        /// <value>The balance account ID of the account that will be used to compensate the balance account whose balance is negative.</value>
        [JsonPropertyName("liableBalanceAccountId")]
        public string? LiableBalanceAccountId { get { return this._LiableBalanceAccountIdOption; } set { this._LiableBalanceAccountIdOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="NegativeBalanceSince"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTimeOffset?> _NegativeBalanceSinceOption { get; private set; }

        /// <summary>
        /// The date the balance for the account became negative.
        /// </summary>
        /// <value>The date the balance for the account became negative.</value>
        [JsonPropertyName("negativeBalanceSince")]
        public DateTimeOffset? NegativeBalanceSince { get { return this._NegativeBalanceSinceOption; } set { this._NegativeBalanceSinceOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="ScheduledCompensationAt"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTimeOffset?> _ScheduledCompensationAtOption { get; private set; }

        /// <summary>
        /// The date when a compensation transfer to the account is scheduled to happen.
        /// </summary>
        /// <value>The date when a compensation transfer to the account is scheduled to happen.</value>
        [JsonPropertyName("scheduledCompensationAt")]
        public DateTimeOffset? ScheduledCompensationAt { get { return this._ScheduledCompensationAtOption; } set { this._ScheduledCompensationAtOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class NegativeBalanceCompensationWarningNotificationData {\n");
            sb.Append("  AccountHolder: ").Append(AccountHolder).Append("\n");
            sb.Append("  Amount: ").Append(Amount).Append("\n");
            sb.Append("  BalancePlatform: ").Append(BalancePlatform).Append("\n");
            sb.Append("  CreationDate: ").Append(CreationDate).Append("\n");
            sb.Append("  Id: ").Append(Id).Append("\n");
            sb.Append("  LiableBalanceAccountId: ").Append(LiableBalanceAccountId).Append("\n");
            sb.Append("  NegativeBalanceSince: ").Append(NegativeBalanceSince).Append("\n");
            sb.Append("  ScheduledCompensationAt: ").Append(ScheduledCompensationAt).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="NegativeBalanceCompensationWarningNotificationData" />
    /// </summary>
    public class NegativeBalanceCompensationWarningNotificationDataJsonConverter : JsonConverter<NegativeBalanceCompensationWarningNotificationData>
    {
        /// <summary>
        /// The format to use to serialize CreationDate.
        /// </summary>
        public static string CreationDateFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize NegativeBalanceSince.
        /// </summary>
        public static string NegativeBalanceSinceFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize ScheduledCompensationAt.
        /// </summary>
        public static string ScheduledCompensationAtFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="NegativeBalanceCompensationWarningNotificationData"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="NegativeBalanceCompensationWarningNotificationData"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override NegativeBalanceCompensationWarningNotificationData Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<ResourceReference?> accountHolder = default;
            Option<Amount?> amount = default;
            Option<string?> balancePlatform = default;
            Option<DateTimeOffset?> creationDate = default;
            Option<string?> id = default;
            Option<string?> liableBalanceAccountId = default;
            Option<DateTimeOffset?> negativeBalanceSince = default;
            Option<DateTimeOffset?> scheduledCompensationAt = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "accountHolder":
                            accountHolder = new Option<ResourceReference?>(JsonSerializer.Deserialize<ResourceReference>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "amount":
                            amount = new Option<Amount?>(JsonSerializer.Deserialize<Amount>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "balancePlatform":
                            balancePlatform = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "creationDate":
                            creationDate = new Option<DateTimeOffset?>(JsonSerializer.Deserialize<DateTimeOffset>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "id":
                            id = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "liableBalanceAccountId":
                            liableBalanceAccountId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "negativeBalanceSince":
                            negativeBalanceSince = new Option<DateTimeOffset?>(JsonSerializer.Deserialize<DateTimeOffset>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "scheduledCompensationAt":
                            scheduledCompensationAt = new Option<DateTimeOffset?>(JsonSerializer.Deserialize<DateTimeOffset>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        default:
                            break;
                    }
                }
            }
            

            return new NegativeBalanceCompensationWarningNotificationData(accountHolder, amount, balancePlatform, creationDate, id, liableBalanceAccountId, negativeBalanceSince, scheduledCompensationAt);
        }

        /// <summary>
        /// Serializes a <see cref="NegativeBalanceCompensationWarningNotificationData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="negativeBalanceCompensationWarningNotificationData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, NegativeBalanceCompensationWarningNotificationData negativeBalanceCompensationWarningNotificationData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, negativeBalanceCompensationWarningNotificationData, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="NegativeBalanceCompensationWarningNotificationData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="negativeBalanceCompensationWarningNotificationData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, NegativeBalanceCompensationWarningNotificationData negativeBalanceCompensationWarningNotificationData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (negativeBalanceCompensationWarningNotificationData._AccountHolderOption.IsSet)
            {
                writer.WritePropertyName("accountHolder");
                JsonSerializer.Serialize(writer, negativeBalanceCompensationWarningNotificationData.AccountHolder, jsonSerializerOptions);
            }
            if (negativeBalanceCompensationWarningNotificationData._AmountOption.IsSet)
            {
                writer.WritePropertyName("amount");
                JsonSerializer.Serialize(writer, negativeBalanceCompensationWarningNotificationData.Amount, jsonSerializerOptions);
            }
            if (negativeBalanceCompensationWarningNotificationData._BalancePlatformOption.IsSet)
                if (negativeBalanceCompensationWarningNotificationData.BalancePlatform != null)
                    writer.WriteString("balancePlatform", negativeBalanceCompensationWarningNotificationData.BalancePlatform);

            if (negativeBalanceCompensationWarningNotificationData._CreationDateOption.IsSet)
                writer.WriteString("creationDate", negativeBalanceCompensationWarningNotificationData._CreationDateOption.Value!.Value.ToString(CreationDateFormat));

            if (negativeBalanceCompensationWarningNotificationData._IdOption.IsSet)
                if (negativeBalanceCompensationWarningNotificationData.Id != null)
                    writer.WriteString("id", negativeBalanceCompensationWarningNotificationData.Id);

            if (negativeBalanceCompensationWarningNotificationData._LiableBalanceAccountIdOption.IsSet)
                if (negativeBalanceCompensationWarningNotificationData.LiableBalanceAccountId != null)
                    writer.WriteString("liableBalanceAccountId", negativeBalanceCompensationWarningNotificationData.LiableBalanceAccountId);

            if (negativeBalanceCompensationWarningNotificationData._NegativeBalanceSinceOption.IsSet)
                writer.WriteString("negativeBalanceSince", negativeBalanceCompensationWarningNotificationData._NegativeBalanceSinceOption.Value!.Value.ToString(NegativeBalanceSinceFormat));

            if (negativeBalanceCompensationWarningNotificationData._ScheduledCompensationAtOption.IsSet)
                writer.WriteString("scheduledCompensationAt", negativeBalanceCompensationWarningNotificationData._ScheduledCompensationAtOption.Value!.Value.ToString(ScheduledCompensationAtFormat));
        }
    }
}
