// <auto-generated>

#nullable enable

using System;
using Adyen.Core.Auth;
using Adyen.Core.Client;
    
namespace Adyen.StoredValue.Client
{
    /// <summary>
    /// The `ADYEN_API_KEY` is an Adyen API authentication token that must be included in the HTTP request header and allows your application to securely communicate with the Adyen APIs.
    /// Guide on how to obtain the `ADYEN_API_KEY`
    /// 1. For Digital/ECOM & In-Person Payments, visit: https://docs.adyen.com/development-resources/api-credentials/#generate-api-key to get your API Key.
    /// 2. For Platforms & Financial Services, visit: https://docs.adyen.com/adyen-for-platforms-model to get started.
    /// </summary>
    public class ApiKeyToken : TokenBase
    {
        private readonly string _apiKeyValue;

        /// <summary>
        /// The name of the header.
        /// </summary>
        public ClientUtils.ApiKeyHeader Header { get; }

        /// <summary>
        /// Constructs the ApiKeyToken object with the API key value provided.
        /// This can then be accessed using ITokenProvider`<see cref="ApiKeyToken"/>`.
        /// </summary>
        /// <param name="value">Your Adyen API Key value.</param>
        /// <param name="header">The header name, retrieved from <see cref="ClientUtils.ApiKeyHeader"/></param>
        /// <param name="prefix">Your prefix, default: empty.</param>
        public ApiKeyToken(string value, ClientUtils.ApiKeyHeader header, string prefix = "") : base()
        {
            Header = header;
            _apiKeyValue = $"{prefix}{value}";
        }

        /// <summary>
        /// Places the token in the header.
        /// </summary>
        /// <param name="request"></param>
        public virtual void AddTokenToHttpRequestMessageHeader(global::System.Net.Http.HttpRequestMessage request)
        {
            request.Headers.Add(ClientUtils.ApiKeyHeaderToString(Header), _apiKeyValue);
        }
    }
}