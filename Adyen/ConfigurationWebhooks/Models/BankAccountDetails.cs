// <auto-generated>
/*
 * Configuration webhooks
 *
 * Adyen sends webhooks to inform your system about events that occur in your platform. These events include, for example, when an account holder's capabilities are updated, or when a sweep configuration is created or updated.  When an event occurs, Adyen makes an HTTP POST request to a URL on your server and includes the details of the event in the request body.  You can use these webhooks to build your implementation. For example, you can use this information to update internal statuses when the status of a capability is changed.
 *
 * The version of the OpenAPI document: 2
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.ConfigurationWebhooks.Client;

namespace Adyen.ConfigurationWebhooks.Models
{
    /// <summary>
    /// BankAccountDetails.
    /// </summary>
    public partial class BankAccountDetails : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="BankAccountDetails" /> class.
        /// </summary>
        /// <param name="accountNumber">The bank account number, without separators or whitespace.</param>
        /// <param name="accountType">The bank account type.  Possible values: **checking** or **savings**. Defaults to **checking**. (default to &quot;checking&quot;)</param>
        /// <param name="branchNumber">The bank account branch number, without separators or whitespace</param>
        /// <param name="formFactor">Business accounts with a &#x60;formFactor&#x60; value of **physical** are business accounts issued under the central bank of that country. The default value is **physical** for NL, US, and UK business accounts.   Adyen creates a local IBAN for business accounts when the &#x60;formFactor&#x60; value is set to **virtual**. The local IBANs that are supported are for DE and FR, which reference a physical NL account, with funds being routed through the central bank of NL. (default to &quot;physical&quot;)</param>
        /// <param name="iban">The international bank account number as defined in the [ISO-13616](https://www.iso.org/standard/81090.html) standard.</param>
        /// <param name="routingNumber">The [routing number](https://en.wikipedia.org/wiki/ABA_routing_transit_number), without separators or whitespace.</param>
        /// <param name="sortCode">The [sort code](https://en.wikipedia.org/wiki/Sort_code), without separators or whitespace.</param>
        /// <param name="type">**iban** or **usLocal** or **ukLocal** (default to &quot;iban&quot;)</param>
        [JsonConstructor]
        public BankAccountDetails(Option<string?> accountNumber = default, Option<string?> accountType = default, Option<string?> branchNumber = default, Option<string?> formFactor = default, Option<string?> iban = default, Option<string?> routingNumber = default, Option<string?> sortCode = default, string type = @"iban")
        {
            _AccountNumberOption = accountNumber;
            _AccountTypeOption = accountType;
            _BranchNumberOption = branchNumber;
            _FormFactorOption = formFactor;
            _IbanOption = iban;
            _RoutingNumberOption = routingNumber;
            _SortCodeOption = sortCode;
            Type = type;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public BankAccountDetails()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AccountNumber"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _AccountNumberOption { get; private set; }

        /// <summary>
        /// The bank account number, without separators or whitespace.
        /// </summary>
        /// <value>The bank account number, without separators or whitespace.</value>
        [JsonPropertyName("accountNumber")]
        public string? AccountNumber { get { return this._AccountNumberOption; } set { this._AccountNumberOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AccountType"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _AccountTypeOption { get; private set; }

        /// <summary>
        /// The bank account type.  Possible values: **checking** or **savings**. Defaults to **checking**.
        /// </summary>
        /// <value>The bank account type.  Possible values: **checking** or **savings**. Defaults to **checking**.</value>
        [JsonPropertyName("accountType")]
        public string? AccountType { get { return this._AccountTypeOption; } set { this._AccountTypeOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="BranchNumber"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _BranchNumberOption { get; private set; }

        /// <summary>
        /// The bank account branch number, without separators or whitespace
        /// </summary>
        /// <value>The bank account branch number, without separators or whitespace</value>
        [JsonPropertyName("branchNumber")]
        public string? BranchNumber { get { return this._BranchNumberOption; } set { this._BranchNumberOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="FormFactor"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _FormFactorOption { get; private set; }

        /// <summary>
        /// Business accounts with a &#x60;formFactor&#x60; value of **physical** are business accounts issued under the central bank of that country. The default value is **physical** for NL, US, and UK business accounts.   Adyen creates a local IBAN for business accounts when the &#x60;formFactor&#x60; value is set to **virtual**. The local IBANs that are supported are for DE and FR, which reference a physical NL account, with funds being routed through the central bank of NL.
        /// </summary>
        /// <value>Business accounts with a `formFactor` value of **physical** are business accounts issued under the central bank of that country. The default value is **physical** for NL, US, and UK business accounts.   Adyen creates a local IBAN for business accounts when the `formFactor` value is set to **virtual**. The local IBANs that are supported are for DE and FR, which reference a physical NL account, with funds being routed through the central bank of NL.</value>
        [JsonPropertyName("formFactor")]
        public string? FormFactor { get { return this._FormFactorOption; } set { this._FormFactorOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Iban"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _IbanOption { get; private set; }

        /// <summary>
        /// The international bank account number as defined in the [ISO-13616](https://www.iso.org/standard/81090.html) standard.
        /// </summary>
        /// <value>The international bank account number as defined in the [ISO-13616](https://www.iso.org/standard/81090.html) standard.</value>
        [JsonPropertyName("iban")]
        public string? Iban { get { return this._IbanOption; } set { this._IbanOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="RoutingNumber"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _RoutingNumberOption { get; private set; }

        /// <summary>
        /// The [routing number](https://en.wikipedia.org/wiki/ABA_routing_transit_number), without separators or whitespace.
        /// </summary>
        /// <value>The [routing number](https://en.wikipedia.org/wiki/ABA_routing_transit_number), without separators or whitespace.</value>
        [JsonPropertyName("routingNumber")]
        public string? RoutingNumber { get { return this._RoutingNumberOption; } set { this._RoutingNumberOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="SortCode"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _SortCodeOption { get; private set; }

        /// <summary>
        /// The [sort code](https://en.wikipedia.org/wiki/Sort_code), without separators or whitespace.
        /// </summary>
        /// <value>The [sort code](https://en.wikipedia.org/wiki/Sort_code), without separators or whitespace.</value>
        [JsonPropertyName("sortCode")]
        public string? SortCode { get { return this._SortCodeOption; } set { this._SortCodeOption = new(value); } }

        /// <summary>
        /// **iban** or **usLocal** or **ukLocal**
        /// </summary>
        /// <value>**iban** or **usLocal** or **ukLocal**</value>
        [JsonPropertyName("type")]
        public string Type { get; set; }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class BankAccountDetails {\n");
            sb.Append("  AccountNumber: ").Append(AccountNumber).Append("\n");
            sb.Append("  AccountType: ").Append(AccountType).Append("\n");
            sb.Append("  BranchNumber: ").Append(BranchNumber).Append("\n");
            sb.Append("  FormFactor: ").Append(FormFactor).Append("\n");
            sb.Append("  Iban: ").Append(Iban).Append("\n");
            sb.Append("  RoutingNumber: ").Append(RoutingNumber).Append("\n");
            sb.Append("  SortCode: ").Append(SortCode).Append("\n");
            sb.Append("  Type: ").Append(Type).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="BankAccountDetails" />
    /// </summary>
    public class BankAccountDetailsJsonConverter : JsonConverter<BankAccountDetails>
    {
        /// <summary>
        /// Deserializes json to <see cref="BankAccountDetails"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="BankAccountDetails"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override BankAccountDetails Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> accountNumber = default;
            Option<string?> accountType = default;
            Option<string?> branchNumber = default;
            Option<string?> formFactor = default;
            Option<string?> iban = default;
            Option<string?> routingNumber = default;
            Option<string?> sortCode = default;
            Option<string?> type = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "accountNumber":
                            accountNumber = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "accountType":
                            accountType = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "branchNumber":
                            branchNumber = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "formFactor":
                            formFactor = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "iban":
                            iban = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "routingNumber":
                            routingNumber = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "sortCode":
                            sortCode = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "type":
                            type = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!type.IsSet)
                throw new ArgumentException("Property is required for class BankAccountDetails.", nameof(type));

            return new BankAccountDetails(accountNumber, accountType, branchNumber, formFactor, iban, routingNumber, sortCode, type.Value!);
        }

        /// <summary>
        /// Serializes a <see cref="BankAccountDetails"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="bankAccountDetails"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, BankAccountDetails bankAccountDetails, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, bankAccountDetails, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="BankAccountDetails"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="bankAccountDetails"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, BankAccountDetails bankAccountDetails, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (bankAccountDetails._AccountNumberOption.IsSet)
                if (bankAccountDetails.AccountNumber != null)
                    writer.WriteString("accountNumber", bankAccountDetails.AccountNumber);

            if (bankAccountDetails._AccountTypeOption.IsSet)
                if (bankAccountDetails.AccountType != null)
                    writer.WriteString("accountType", bankAccountDetails.AccountType);

            if (bankAccountDetails._BranchNumberOption.IsSet)
                if (bankAccountDetails.BranchNumber != null)
                    writer.WriteString("branchNumber", bankAccountDetails.BranchNumber);

            if (bankAccountDetails._FormFactorOption.IsSet)
                if (bankAccountDetails.FormFactor != null)
                    writer.WriteString("formFactor", bankAccountDetails.FormFactor);

            if (bankAccountDetails._IbanOption.IsSet)
                if (bankAccountDetails.Iban != null)
                    writer.WriteString("iban", bankAccountDetails.Iban);

            if (bankAccountDetails._RoutingNumberOption.IsSet)
                if (bankAccountDetails.RoutingNumber != null)
                    writer.WriteString("routingNumber", bankAccountDetails.RoutingNumber);

            if (bankAccountDetails._SortCodeOption.IsSet)
                if (bankAccountDetails.SortCode != null)
                    writer.WriteString("sortCode", bankAccountDetails.SortCode);

            if (bankAccountDetails.Type != null)
                writer.WriteString("type", bankAccountDetails.Type);
        }
    }
}
