// <auto-generated>
/*
 * Transfer webhooks
 *
 * Adyen sends webhooks to inform your system about incoming and outgoing transfers in your platform.  You can use these webhooks to build your implementation. For example, you can use this information to update balances in your own dashboards or to keep track of incoming funds.
 *
 * The version of the OpenAPI document: 4
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.TransferWebhooks.Client;

namespace Adyen.TransferWebhooks.Models
{
    /// <summary>
    /// The relevant data according to the transfer category..
    /// </summary>
    public partial class TransferDataCategoryData
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="TransferDataCategoryData" /> class.
        /// </summary>
        /// <param name="bankCategoryData"></param>
        public TransferDataCategoryData(BankCategoryData bankCategoryData)
        {
            BankCategoryData = bankCategoryData;
            OnCreated();
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="TransferDataCategoryData" /> class.
        /// </summary>
        /// <param name="internalCategoryData"></param>
        public TransferDataCategoryData(InternalCategoryData internalCategoryData)
        {
            InternalCategoryData = internalCategoryData;
            OnCreated();
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="TransferDataCategoryData" /> class.
        /// </summary>
        /// <param name="issuedCard"></param>
        public TransferDataCategoryData(IssuedCard issuedCard)
        {
            IssuedCard = issuedCard;
            OnCreated();
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="TransferDataCategoryData" /> class.
        /// </summary>
        /// <param name="platformPayment"></param>
        public TransferDataCategoryData(PlatformPayment platformPayment)
        {
            PlatformPayment = platformPayment;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// <see cref="BankCategoryData"/>..
        /// </summary>
        public BankCategoryData? BankCategoryData { get; set; }

        /// <summary>
        /// <see cref="InternalCategoryData"/>..
        /// </summary>
        public InternalCategoryData? InternalCategoryData { get; set; }

        /// <summary>
        /// <see cref="IssuedCard"/>..
        /// </summary>
        public IssuedCard? IssuedCard { get; set; }

        /// <summary>
        /// <see cref="PlatformPayment"/>..
        /// </summary>
        public PlatformPayment? PlatformPayment { get; set; }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class TransferDataCategoryData {\n");
            if (this.BankCategoryData != null)
                sb.Append(BankCategoryData.ToString().Replace("\n", "\n  "));
            if (this.InternalCategoryData != null)
                sb.Append(InternalCategoryData.ToString().Replace("\n", "\n  "));
            if (this.IssuedCard != null)
                sb.Append(IssuedCard.ToString().Replace("\n", "\n  "));
            if (this.PlatformPayment != null)
                sb.Append(PlatformPayment.ToString().Replace("\n", "\n  "));
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="TransferDataCategoryData" />
    /// </summary>
    public class TransferDataCategoryDataJsonConverter : JsonConverter<TransferDataCategoryData>
    {
        /// <summary>
        /// Deserializes json to <see cref="TransferDataCategoryData"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="TransferDataCategoryData"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override TransferDataCategoryData Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            BankCategoryData? bankCategoryData = default;
            InternalCategoryData? internalCategoryData = default;
            IssuedCard? issuedCard = default;
            PlatformPayment? platformPayment = default;

            Utf8JsonReader utf8JsonReaderOneOf = utf8JsonReader;
            while (utf8JsonReaderOneOf.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReaderOneOf.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReaderOneOf.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReaderOneOf.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReaderOneOf.CurrentDepth)
                    break;

                if (utf8JsonReaderOneOf.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReaderOneOf.CurrentDepth - 1)
                {
                    Utf8JsonReader utf8JsonReaderBankCategoryData = utf8JsonReader;
                    ClientUtils.TryDeserialize<BankCategoryData?>(ref utf8JsonReaderBankCategoryData, jsonSerializerOptions, out bankCategoryData);

                    Utf8JsonReader utf8JsonReaderInternalCategoryData = utf8JsonReader;
                    ClientUtils.TryDeserialize<InternalCategoryData?>(ref utf8JsonReaderInternalCategoryData, jsonSerializerOptions, out internalCategoryData);

                    Utf8JsonReader utf8JsonReaderIssuedCard = utf8JsonReader;
                    ClientUtils.TryDeserialize<IssuedCard?>(ref utf8JsonReaderIssuedCard, jsonSerializerOptions, out issuedCard);

                    Utf8JsonReader utf8JsonReaderPlatformPayment = utf8JsonReader;
                    ClientUtils.TryDeserialize<PlatformPayment?>(ref utf8JsonReaderPlatformPayment, jsonSerializerOptions, out platformPayment);
                }
            }

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        default:
                            break;
                    }
                }
            }
            
            if (bankCategoryData?.Type != null)
                return new TransferDataCategoryData(bankCategoryData);

            if (internalCategoryData?.Type != null)
                return new TransferDataCategoryData(internalCategoryData);

            if (issuedCard?.Type != null)
                return new TransferDataCategoryData(issuedCard);

            if (platformPayment?.Type != null)
                return new TransferDataCategoryData(platformPayment);

            throw new JsonException();
        }

        /// <summary>
        /// Serializes a <see cref="TransferDataCategoryData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="transferDataCategoryData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        public override void Write(Utf8JsonWriter writer, TransferDataCategoryData transferDataCategoryData, JsonSerializerOptions jsonSerializerOptions)
        {
            if (transferDataCategoryData.BankCategoryData != null)
                JsonSerializer.Serialize(writer, transferDataCategoryData.BankCategoryData, jsonSerializerOptions);
            if (transferDataCategoryData.InternalCategoryData != null)
                JsonSerializer.Serialize(writer, transferDataCategoryData.InternalCategoryData, jsonSerializerOptions);
            if (transferDataCategoryData.IssuedCard != null)
                JsonSerializer.Serialize(writer, transferDataCategoryData.IssuedCard, jsonSerializerOptions);
            if (transferDataCategoryData.PlatformPayment != null)
                JsonSerializer.Serialize(writer, transferDataCategoryData.PlatformPayment, jsonSerializerOptions);
            /* 
            writer.WriteStartObject();
             */
            WriteProperties(writer, transferDataCategoryData, jsonSerializerOptions);
            /* 
            writer.WriteEndObject();
             */
        }

        /// <summary>
        /// Serializes the properties of <see cref="TransferDataCategoryData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="transferDataCategoryData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        public void WriteProperties(Utf8JsonWriter writer, TransferDataCategoryData transferDataCategoryData, JsonSerializerOptions jsonSerializerOptions)
        {

        }
    }
}
