// <auto-generated>
/*
 * Transfer webhooks
 *
 * Adyen sends webhooks to inform your system about incoming and outgoing transfers in your platform.  You can use these webhooks to build your implementation. For example, you can use this information to update balances in your own dashboards or to keep track of incoming funds.
 *
 * The version of the OpenAPI document: 4
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.TransferWebhooks.Client;

namespace Adyen.TransferWebhooks.Models
{
    /// <summary>
    /// Address.
    /// </summary>
    public partial class Address : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="Address" /> class.
        /// </summary>
        /// <param name="country">The two-character ISO 3166-1 alpha-2 country code. For example, **US**, **NL**, or **GB**.</param>
        /// <param name="city">The name of the city.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </param>
        /// <param name="line1">The first line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </param>
        /// <param name="line2">The second line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </param>
        /// <param name="postalCode">The postal code. Maximum length: * 5 digits for an address in the US. * 10 characters for an address in all other countries.  Supported characters: **[a-z] [A-Z] [0-9]** and Space.  &gt; Required for addresses in the US. </param>
        /// <param name="stateOrProvince">   The two-letter ISO 3166-2 state or province code. For example, **CA** in the US or **ON** in Canada.     &gt; Required for the US and Canada. </param>
        [JsonConstructor]
        public Address(string country, Option<string?> city = default, Option<string?> line1 = default, Option<string?> line2 = default, Option<string?> postalCode = default, Option<string?> stateOrProvince = default)
        {
            Country = country;
            _CityOption = city;
            _Line1Option = line1;
            _Line2Option = line2;
            _PostalCodeOption = postalCode;
            _StateOrProvinceOption = stateOrProvince;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The two-character ISO 3166-1 alpha-2 country code. For example, **US**, **NL**, or **GB**.
        /// </summary>
        /// <value>The two-character ISO 3166-1 alpha-2 country code. For example, **US**, **NL**, or **GB**.</value>
        [JsonPropertyName("country")]
        public string Country { get; set; }

        /// <summary>
        /// Used to track the state of City
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _CityOption { get; private set; }

        /// <summary>
        /// The name of the city.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. 
        /// </summary>
        /// <value>The name of the city.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </value>
        [JsonPropertyName("city")]
        public string? City { get { return this._CityOption; } set { this._CityOption = new(value); } }

        /// <summary>
        /// Used to track the state of Line1
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _Line1Option { get; private set; }

        /// <summary>
        /// The first line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. 
        /// </summary>
        /// <value>The first line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </value>
        [JsonPropertyName("line1")]
        public string? Line1 { get { return this._Line1Option; } set { this._Line1Option = new(value); } }

        /// <summary>
        /// Used to track the state of Line2
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _Line2Option { get; private set; }

        /// <summary>
        /// The second line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. 
        /// </summary>
        /// <value>The second line of the street address.  Supported characters: **[a-z] [A-Z] [0-9] . - — / # , ’ ° ( ) : ; [ ] &amp; \\ |** and Space.  &gt; Required when the &#x60;category&#x60; is **card**. </value>
        [JsonPropertyName("line2")]
        public string? Line2 { get { return this._Line2Option; } set { this._Line2Option = new(value); } }

        /// <summary>
        /// Used to track the state of PostalCode
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _PostalCodeOption { get; private set; }

        /// <summary>
        /// The postal code. Maximum length: * 5 digits for an address in the US. * 10 characters for an address in all other countries.  Supported characters: **[a-z] [A-Z] [0-9]** and Space.  &gt; Required for addresses in the US. 
        /// </summary>
        /// <value>The postal code. Maximum length: * 5 digits for an address in the US. * 10 characters for an address in all other countries.  Supported characters: **[a-z] [A-Z] [0-9]** and Space.  &gt; Required for addresses in the US. </value>
        [JsonPropertyName("postalCode")]
        public string? PostalCode { get { return this._PostalCodeOption; } set { this._PostalCodeOption = new(value); } }

        /// <summary>
        /// Used to track the state of StateOrProvince
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _StateOrProvinceOption { get; private set; }

        /// <summary>
        ///    The two-letter ISO 3166-2 state or province code. For example, **CA** in the US or **ON** in Canada.     &gt; Required for the US and Canada. 
        /// </summary>
        /// <value>   The two-letter ISO 3166-2 state or province code. For example, **CA** in the US or **ON** in Canada.     &gt; Required for the US and Canada. </value>
        [JsonPropertyName("stateOrProvince")]
        public string? StateOrProvince { get { return this._StateOrProvinceOption; } set { this._StateOrProvinceOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class Address {\n");
            sb.Append("  Country: ").Append(Country).Append("\n");
            sb.Append("  City: ").Append(City).Append("\n");
            sb.Append("  Line1: ").Append(Line1).Append("\n");
            sb.Append("  Line2: ").Append(Line2).Append("\n");
            sb.Append("  PostalCode: ").Append(PostalCode).Append("\n");
            sb.Append("  StateOrProvince: ").Append(StateOrProvince).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            // City (string) minLength
            if (this.City != null && this.City.Length < 3)
            {
                yield return new ValidationResult("Invalid value for City, length must be greater than 3.", new [] { "City" });
            }

            // PostalCode (string) minLength
            if (this.PostalCode != null && this.PostalCode.Length < 3)
            {
                yield return new ValidationResult("Invalid value for PostalCode, length must be greater than 3.", new [] { "PostalCode" });
            }

            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="Address" />
    /// </summary>
    public class AddressJsonConverter : JsonConverter<Address>
    {
        /// <summary>
        /// Deserializes json to <see cref="Address"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="Address"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override Address Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> country = default;
            Option<string?> city = default;
            Option<string?> line1 = default;
            Option<string?> line2 = default;
            Option<string?> postalCode = default;
            Option<string?> stateOrProvince = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "country":
                            country = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "city":
                            city = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "line1":
                            line1 = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "line2":
                            line2 = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "postalCode":
                            postalCode = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "stateOrProvince":
                            stateOrProvince = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!country.IsSet)
                throw new ArgumentException("Property is required for class Address.", nameof(country));

            return new Address(country.Value!, city, line1, line2, postalCode, stateOrProvince);
        }

        /// <summary>
        /// Serializes a <see cref="Address"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="address"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, Address address, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, address, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="Address"/>.
        /// </summary>
        /// <param name="writer"><see creft="Utf8JsonWriter"/></param>
        /// <param name="address"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, Address address, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (address.Country != null)
                writer.WriteString("country", address.Country);

            if (address._CityOption.IsSet)
                if (address.City != null)
                    writer.WriteString("city", address.City);

            if (address._Line1Option.IsSet)
                if (address.Line1 != null)
                    writer.WriteString("line1", address.Line1);

            if (address._Line2Option.IsSet)
                if (address.Line2 != null)
                    writer.WriteString("line2", address.Line2);

            if (address._PostalCodeOption.IsSet)
                if (address.PostalCode != null)
                    writer.WriteString("postalCode", address.PostalCode);

            if (address._StateOrProvinceOption.IsSet)
                if (address.StateOrProvince != null)
                    writer.WriteString("stateOrProvince", address.StateOrProvince);
        }
    }
}
