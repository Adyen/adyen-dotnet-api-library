// <auto-generated>
/*
 * Transfers API
 *
 * >Versions 1 and 2 of the Transfers API are deprecated. If you are just starting your implementation, use the latest version.  The Transfers API provides endpoints that you can use to transfer funds, whether when paying out to a transfer instrument for [marketplaces](https://docs.adyen.com/marketplaces/payout-to-users/on-demand-payouts) or [platforms](https://docs.adyen.com/platforms/payout-to-users/on-demand-payouts), [sending funds to third parties](https://docs.adyen.com/platforms/business-accounts/send-receive-funds) for users with business bank accounts, or to [request a payout for a grant offer](https://docs.adyen.com/platforms/capital). The API also supports use cases for [getting transactions for business bank accounts](https://docs.adyen.com/platforms/business-accounts/transactions-api) and getting [outstanding balances](https://docs.adyen.com/platforms/capital#get-balances) for one or more grants on your platform.   ## Authentication Each request to the Transfers API must be signed with an API key. Generate an API key in your Customer Area if you have a [platform setup](https://docs.adyen.com/platforms/manage-access/api-credentials-web-service/#generate-api-key) or [marketplace setup](https://docs.adyen.com/marketplaces/manage-access/api-credentials-web-service/#generate-api-key).  If you have an Adyen Issuing integration, [generate an API key](https://docs.adyen.com/issuing/manage-access/api-credentials-web-service/#generate-api-key) in your Balance Platform Customer Area.  To connect to the API, add an `X-API-Key` header with the API key as the value, for example:   ``` curl -H \"Content-Type: application/json\" \\ -H \"X-API-Key: YOUR_API_KEY\" \\ ... ```  ## Roles and permissions To use the Transfers API, you need an additional role for your API credential. Transfers must also be enabled for the source balance account. Your Adyen contact will set up the roles and permissions for you. ## Versioning The Transfers API supports [versioning](https://docs.adyen.com/development-resources/versioning) using a version suffix in the endpoint URL. This suffix has the following format: \"vXX\", where XX is the version number.  For example: ``` https://balanceplatform-api-test.adyen.com/btl/v4/transfers ``` ## Going live When going live, generate an API key in your [live Customer Area](https://ca-live.adyen.com/ca/) if you have an Adyen for Platforms integration or [live Balance Platform Customer Area](https://balanceplatform-live.adyen.com/balanceplatform/) if you have an Adyen Issuing integration. You can then use the API key to send requests to `https://balanceplatform-api-live.adyen.com/btl/v4`.  
 *
 * The version of the OpenAPI document: 4
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Net;
using System.Threading.Tasks;
using Microsoft.Extensions.Logging;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text.Json;
using Adyen.Core;
using Adyen.Core.Auth;
using Adyen.Core.Client;
using Adyen.Transfers.Client;
using Adyen.Transfers.Models;
using System.Diagnostics.CodeAnalysis;

namespace Adyen.Transfers.Services
{
    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints.
    /// This class is registered as transient.
    /// </summary>
    public interface ITransfersService : IAdyenApiService
    {
        /// <summary>
        /// The class containing the events.
        /// </summary>
        TransfersServiceEvents Events { get; }

        /// <summary>
        /// Approve initiated transfers
        /// </summary>
        /// <remarks>
        /// Initiates the approval of a list of transfers that triggered an additional [review](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers#request-review). Adyen sends the outcome of the approval request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Approve** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="wWWAuthenticate">Header for authenticating through SCA (optional)</param>
        /// <param name="approveTransfersRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IApproveInitiatedTransfersApiResponse"/>&gt;</returns>
        Task<IApproveInitiatedTransfersApiResponse> ApproveInitiatedTransfersAsync(Option<string> idempotencyKey = default, Option<string> wWWAuthenticate = default, Option<ApproveTransfersRequest> approveTransfersRequest = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Cancel initiated transfers
        /// </summary>
        /// <remarks>
        /// Initiates the cancellation of a list of transfers that triggered an additional [review](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers#request-review). Adyen sends the outcome of the cancel request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Approve** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="cancelTransfersRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICancelInitiatedTransfersApiResponse"/>&gt;</returns>
        Task<ICancelInitiatedTransfersApiResponse> CancelInitiatedTransfersAsync(Option<string> idempotencyKey = default, Option<CancelTransfersRequest> cancelTransfersRequest = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get all transfers
        /// </summary>
        /// <remarks>
        /// Returns all the transfers related to a balance account, account holder, or balance platform.  When making this request, you must include at least one of the following: - &#x60;balanceAccountId&#x60; - &#x60;accountHolderId&#x60; - &#x60;balancePlatform&#x60;.  This endpoint supports cursor-based pagination. The response returns the first page of results, and returns links to the next and previous pages when applicable. You can use the links to page through the results.  
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="createdSince">Only include transfers that have been created on or after this point in time. The value must be in ISO 8601 format and not earlier than 6 months before the &#x60;createdUntil&#x60; date. For example, **2021-05-30T15:07:40Z**.</param>
        /// <param name="createdUntil">Only include transfers that have been created on or before this point in time. The value must be in ISO 8601 format and not later than 6 months after the &#x60;createdSince&#x60; date. For example, **2021-05-30T15:07:40Z**.</param>
        /// <param name="balancePlatform">The unique identifier of the [balance platform](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/balancePlatforms/{id}__queryParam_id).  Required if you don&#39;t provide a &#x60;balanceAccountId&#x60; or &#x60;accountHolderId&#x60;. (optional)</param>
        /// <param name="accountHolderId">The unique identifier of the [account holder](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/accountHolders/{id}__queryParam_id).  Required if you don&#39;t provide a &#x60;balanceAccountId&#x60; or &#x60;balancePlatform&#x60;.  If you provide a &#x60;balanceAccountId&#x60;, the &#x60;accountHolderId&#x60; must be related to the &#x60;balanceAccountId&#x60;. (optional)</param>
        /// <param name="balanceAccountId">The unique identifier of the [balance account](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/balanceAccounts/{id}__queryParam_id).  Required if you don&#39;t provide an &#x60;accountHolderId&#x60; or &#x60;balancePlatform&#x60;.  If you provide an &#x60;accountHolderId&#x60;, the &#x60;balanceAccountId&#x60; must be related to the &#x60;accountHolderId&#x60;. (optional)</param>
        /// <param name="paymentInstrumentId">The unique identifier of the [payment instrument](https://docs.adyen.com/api-explorer/balanceplatform/latest/get/paymentInstruments/_id_).  To use this parameter, you must also provide a &#x60;balanceAccountId&#x60;, &#x60;accountHolderId&#x60;, or &#x60;balancePlatform&#x60;.  The &#x60;paymentInstrumentId&#x60; must be related to the &#x60;balanceAccountId&#x60; or &#x60;accountHolderId&#x60; that you provide. (optional)</param>
        /// <param name="reference">The reference you provided in the POST [/transfers](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers) request (optional)</param>
        /// <param name="category">The type of transfer.  Possible values:   - **bank**: Transfer to a [transfer instrument](https://docs.adyen.com/api-explorer/#/legalentity/latest/post/transferInstruments__resParam_id) or a bank account.  - **internal**: Transfer to another [balance account](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/post/balanceAccounts__resParam_id) within your platform.  - **issuedCard**: Transfer initiated by a Adyen-issued card.  - **platformPayment**: Fund movements related to payments that are acquired for your users. (optional)</param>
        /// <param name="sortOrder">Determines the sort order of the returned transfers. The sort order is based on the creation date of the transfers.  Possible values:   - **asc**: Ascending order, from oldest to most recent.  - **desc**: Descending order, from most recent to oldest.  Default value: **asc**. (optional)</param>
        /// <param name="cursor">The &#x60;cursor&#x60; returned in the links of the previous response. (optional)</param>
        /// <param name="limit">The number of items returned per page, maximum of 100 items. By default, the response returns 10 items per page. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAllTransfersApiResponse"/>&gt;</returns>
        Task<IGetAllTransfersApiResponse> GetAllTransfersAsync(DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform = default, Option<string> accountHolderId = default, Option<string> balanceAccountId = default, Option<string> paymentInstrumentId = default, Option<string> reference = default, Option<string> category = default, Option<string> sortOrder = default, Option<string> cursor = default, Option<int> limit = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get a transfer
        /// </summary>
        /// <remarks>
        /// Returns the details of a specified transfer.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="id">Unique identifier of the transfer.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetTransferApiResponse"/>&gt;</returns>
        Task<IGetTransferApiResponse> GetTransferAsync(string id, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Return a transfer
        /// </summary>
        /// <remarks>
        /// Initiates the return of previously transferred funds without creating a new &#x60;transferId&#x60;.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="transferId">The unique identifier of the transfer to be returned.</param>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="returnTransferRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IReturnTransferApiResponse"/>&gt;</returns>
        Task<IReturnTransferApiResponse> ReturnTransferAsync(string transferId, Option<string> idempotencyKey = default, Option<ReturnTransferRequest> returnTransferRequest = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Transfer funds
        /// </summary>
        /// <remarks>
        /// &gt;Versions 1 and 2 of the Transfers API are deprecated. If you are just starting your implementation, use the latest version.  Starts a request to transfer funds to: - [Balance accounts](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/post/balanceAccounts) - [Transfer instruments](https://docs.adyen.com/api-explorer/#/legalentity/latest/post/transferInstruments) - [Third-party bank accounts](https://docs.adyen.com/payouts/payout-service/pay-out-to-bank-accounts) - [Third-party cards](https://docs.adyen.com/payouts/payout-service/pay-out-to-cards)  Adyen sends the outcome of the transfer request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Webservice Initiate** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="wWWAuthenticate">Header for authenticating through SCA (optional)</param>
        /// <param name="transferInfo"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ITransferFundsApiResponse"/>&gt;</returns>
        Task<ITransferFundsApiResponse> TransferFundsAsync(Option<string> idempotencyKey = default, Option<string> wWWAuthenticate = default, Option<TransferInfo> transferInfo = default, System.Threading.CancellationToken cancellationToken = default);

    }

    /// <summary>
    /// The <see cref="IApproveInitiatedTransfersApiResponse"/>.
    /// </summary>
    public interface IApproveInitiatedTransfersApiResponse : Adyen.Core.Client.IApiResponse, IUnauthorized<Adyen.Transfers.Models.ServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok.
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="ICancelInitiatedTransfersApiResponse"/>.
    /// </summary>
    public interface ICancelInitiatedTransfersApiResponse : Adyen.Core.Client.IApiResponse, IUnauthorized<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok.
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="IGetAllTransfersApiResponse"/>.
    /// </summary>
    public interface IGetAllTransfersApiResponse : Adyen.Core.Client.IApiResponse, IOk<Adyen.Transfers.Models.FindTransfersResponse?>, IUnauthorized<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok.
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="IGetTransferApiResponse"/>.
    /// </summary>
    public interface IGetTransferApiResponse : Adyen.Core.Client.IApiResponse, IOk<Adyen.Transfers.Models.TransferData?>, IUnauthorized<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok.
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="IReturnTransferApiResponse"/>.
    /// </summary>
    public interface IReturnTransferApiResponse : Adyen.Core.Client.IApiResponse, IOk<Adyen.Transfers.Models.ReturnTransferResponse?>, IUnauthorized<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok.
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="ITransferFundsApiResponse"/>.
    /// </summary>
    public interface ITransferFundsApiResponse : Adyen.Core.Client.IApiResponse, IAccepted<Adyen.Transfers.Models.Transfer?>, IUnauthorized<Adyen.Transfers.Models.ServiceError?>, IForbidden<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IUnprocessableContent<Adyen.Transfers.Models.TransferServiceRestServiceError?>, IInternalServerError<Adyen.Transfers.Models.TransferServiceRestServiceError?>
    {
        /// <summary>
        /// Returns true if the response is 202 Accepted.
        /// </summary>
        /// <returns></returns>
        bool IsAccepted { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized.
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 403 Forbidden.
        /// </summary>
        /// <returns></returns>
        bool IsForbidden { get; }

        /// <summary>
        /// Returns true if the response is 422 UnprocessableContent.
        /// </summary>
        /// <returns></returns>
        bool IsUnprocessableContent { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError.
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints.
    /// </summary>
    public class TransfersServiceEvents
    {
        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnApproveInitiatedTransfers;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorApproveInitiatedTransfers;

        internal void ExecuteOnApproveInitiatedTransfers(TransfersService.ApproveInitiatedTransfersApiResponse apiResponse)
        {
            OnApproveInitiatedTransfers?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorApproveInitiatedTransfers(Exception exception)
        {
            OnErrorApproveInitiatedTransfers?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCancelInitiatedTransfers;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCancelInitiatedTransfers;

        internal void ExecuteOnCancelInitiatedTransfers(TransfersService.CancelInitiatedTransfersApiResponse apiResponse)
        {
            OnCancelInitiatedTransfers?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCancelInitiatedTransfers(Exception exception)
        {
            OnErrorCancelInitiatedTransfers?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetAllTransfers;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetAllTransfers;

        internal void ExecuteOnGetAllTransfers(TransfersService.GetAllTransfersApiResponse apiResponse)
        {
            OnGetAllTransfers?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetAllTransfers(Exception exception)
        {
            OnErrorGetAllTransfers?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetTransfer;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetTransfer;

        internal void ExecuteOnGetTransfer(TransfersService.GetTransferApiResponse apiResponse)
        {
            OnGetTransfer?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetTransfer(Exception exception)
        {
            OnErrorGetTransfer?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnReturnTransfer;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorReturnTransfer;

        internal void ExecuteOnReturnTransfer(TransfersService.ReturnTransferApiResponse apiResponse)
        {
            OnReturnTransfer?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorReturnTransfer(Exception exception)
        {
            OnErrorReturnTransfer?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response.
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnTransferFunds;

        /// <summary>
        /// The event raised after an error querying the server.
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorTransferFunds;

        internal void ExecuteOnTransferFunds(TransfersService.TransferFundsApiResponse apiResponse)
        {
            OnTransferFunds?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorTransferFunds(Exception exception)
        {
            OnErrorTransferFunds?.Invoke(this, new ExceptionEventArgs(exception));
        }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints.
    /// </summary>
    public sealed partial class TransfersService : ITransfersService
    {
        private JsonSerializerOptions _jsonSerializerOptions;

        /// <summary>
        /// The logger factory.
        /// </summary>
        public ILoggerFactory LoggerFactory { get; }

        /// <summary>
        /// The logger.
        /// </summary>
        public ILogger<TransfersService> Logger { get; }

        /// <summary>
        /// The HttpClient.
        /// </summary>
        public System.Net.Http.HttpClient HttpClient { get; }

        /// <summary>
        /// The class containing the events.
        /// </summary>
        public TransfersServiceEvents Events { get; }

        /// <summary>
        /// A token provider of type <see cref="ApiKeyProvider"/>.
        /// </summary>
        public ITokenProvider<ApiKeyToken> ApiKeyProvider { get; }

        /// <summary>
        /// Initializes a new instance of the <see cref="TransfersService"/> class.
        /// </summary>
        /// <returns></returns>
        public TransfersService(ILogger<TransfersService> logger, ILoggerFactory loggerFactory, System.Net.Http.HttpClient httpClient, JsonSerializerOptionsProvider jsonSerializerOptionsProvider, TransfersServiceEvents transfersServiceEvents,
            ITokenProvider<ApiKeyToken> apiKeyProvider)
        {
            _jsonSerializerOptions = jsonSerializerOptionsProvider.Options;
            LoggerFactory = loggerFactory;
            Logger = LoggerFactory.CreateLogger<TransfersService>();
            HttpClient = httpClient;
            Events = transfersServiceEvents;
            ApiKeyProvider = apiKeyProvider;
        }

        partial void FormatApproveInitiatedTransfers(ref Option<string> idempotencyKey, ref Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="approveTransfersRequest"></param>
        /// <returns></returns>
        private void ValidateApproveInitiatedTransfers(Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest)
        {
            if (idempotencyKey.IsSet && idempotencyKey.Value == null)
                throw new ArgumentNullException(nameof(idempotencyKey));

            if (wWWAuthenticate.IsSet && wWWAuthenticate.Value == null)
                throw new ArgumentNullException(nameof(wWWAuthenticate));

            if (approveTransfersRequest.IsSet && approveTransfersRequest.Value == null)
                throw new ArgumentNullException(nameof(approveTransfersRequest));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="approveTransfersRequest"></param>
        private void AfterApproveInitiatedTransfersDefaultImplementation(IApproveInitiatedTransfersApiResponse apiResponse, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest)
        {
            bool suppressDefaultLog = false;
            AfterApproveInitiatedTransfers(ref suppressDefaultLog, apiResponse, idempotencyKey, wWWAuthenticate, approveTransfersRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="approveTransfersRequest"></param>
        partial void AfterApproveInitiatedTransfers(ref bool suppressDefaultLog, IApproveInitiatedTransfersApiResponse apiResponse, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="approveTransfersRequest"></param>
        private void OnErrorApproveInitiatedTransfersDefaultImplementation(Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest)
        {
            bool suppressDefaultLog = false;
            OnErrorApproveInitiatedTransfers(ref suppressDefaultLog, exception, pathFormat, path, idempotencyKey, wWWAuthenticate, approveTransfersRequest);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="approveTransfersRequest"></param>
        partial void OnErrorApproveInitiatedTransfers(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<ApproveTransfersRequest> approveTransfersRequest);

        /// <summary>
        /// Approve initiated transfers Initiates the approval of a list of transfers that triggered an additional [review](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers#request-review). Adyen sends the outcome of the approval request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Approve** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="wWWAuthenticate">Header for authenticating through SCA (optional)</param>
        /// <param name="approveTransfersRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IApproveInitiatedTransfersApiResponse"/>&gt;</returns>
        public async Task<IApproveInitiatedTransfersApiResponse> ApproveInitiatedTransfersAsync(Option<string> idempotencyKey = default, Option<string> wWWAuthenticate = default, Option<ApproveTransfersRequest> approveTransfersRequest = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateApproveInitiatedTransfers(idempotencyKey, wWWAuthenticate, approveTransfersRequest);

                FormatApproveInitiatedTransfers(ref idempotencyKey, ref wWWAuthenticate, approveTransfersRequest);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers/approve"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers/approve");

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (idempotencyKey.IsSet)
                        httpRequestMessage.Headers.Add("Idempotency-Key", ClientUtils.ParameterToString(idempotencyKey.Value));

                    if (wWWAuthenticate.IsSet)
                        httpRequestMessage.Headers.Add("WWW-Authenticate", ClientUtils.ParameterToString(wWWAuthenticate.Value));

                    if (approveTransfersRequest.IsSet)
                        httpRequestMessage.Content = (approveTransfersRequest.Value as object) is System.IO.Stream stream
                            ? httpRequestMessage.Content = new StreamContent(stream)
                            : httpRequestMessage.Content = new StringContent(JsonSerializer.Serialize(approveTransfersRequest.Value, _jsonSerializerOptions));

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentType = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentType != null && httpRequestMessage.Content != null)
                        httpRequestMessage.Content.Headers.ContentType = new MediaTypeHeaderValue(contentType);

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Post;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<ApproveInitiatedTransfersApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<ApproveInitiatedTransfersApiResponse>();
                        ApproveInitiatedTransfersApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers/approve", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterApproveInitiatedTransfersDefaultImplementation(apiResponse, idempotencyKey, wWWAuthenticate, approveTransfersRequest);

                        Events.ExecuteOnApproveInitiatedTransfers(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorApproveInitiatedTransfersDefaultImplementation(e, "/transfers/approve", uriBuilder.Path, idempotencyKey, wWWAuthenticate, approveTransfersRequest);
                Events.ExecuteOnErrorApproveInitiatedTransfers(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="ApproveInitiatedTransfersApiResponse"/>.
        /// </summary>
        public partial class ApproveInitiatedTransfersApiResponse : Adyen.Core.Client.ApiResponse, IApproveInitiatedTransfersApiResponse
        {
            /// <summary>
            /// The logger for <see cref="ApproveInitiatedTransfersApiResponse"/>.
            /// </summary>
            public ILogger<ApproveInitiatedTransfersApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="ApproveInitiatedTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ApproveInitiatedTransfersApiResponse(ILogger<ApproveInitiatedTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="ApproveInitiatedTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ApproveInitiatedTransfersApiResponse(ILogger<ApproveInitiatedTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.ServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.ServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.ServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCancelInitiatedTransfers(ref Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="idempotencyKey"></param>
        /// <param name="cancelTransfersRequest"></param>
        /// <returns></returns>
        private void ValidateCancelInitiatedTransfers(Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest)
        {
            if (idempotencyKey.IsSet && idempotencyKey.Value == null)
                throw new ArgumentNullException(nameof(idempotencyKey));

            if (cancelTransfersRequest.IsSet && cancelTransfersRequest.Value == null)
                throw new ArgumentNullException(nameof(cancelTransfersRequest));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="cancelTransfersRequest"></param>
        private void AfterCancelInitiatedTransfersDefaultImplementation(ICancelInitiatedTransfersApiResponse apiResponse, Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest)
        {
            bool suppressDefaultLog = false;
            AfterCancelInitiatedTransfers(ref suppressDefaultLog, apiResponse, idempotencyKey, cancelTransfersRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="cancelTransfersRequest"></param>
        partial void AfterCancelInitiatedTransfers(ref bool suppressDefaultLog, ICancelInitiatedTransfersApiResponse apiResponse, Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="cancelTransfersRequest"></param>
        private void OnErrorCancelInitiatedTransfersDefaultImplementation(Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest)
        {
            bool suppressDefaultLog = false;
            OnErrorCancelInitiatedTransfers(ref suppressDefaultLog, exception, pathFormat, path, idempotencyKey, cancelTransfersRequest);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="cancelTransfersRequest"></param>
        partial void OnErrorCancelInitiatedTransfers(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<CancelTransfersRequest> cancelTransfersRequest);

        /// <summary>
        /// Cancel initiated transfers Initiates the cancellation of a list of transfers that triggered an additional [review](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers#request-review). Adyen sends the outcome of the cancel request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Approve** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="cancelTransfersRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICancelInitiatedTransfersApiResponse"/>&gt;</returns>
        public async Task<ICancelInitiatedTransfersApiResponse> CancelInitiatedTransfersAsync(Option<string> idempotencyKey = default, Option<CancelTransfersRequest> cancelTransfersRequest = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateCancelInitiatedTransfers(idempotencyKey, cancelTransfersRequest);

                FormatCancelInitiatedTransfers(ref idempotencyKey, cancelTransfersRequest);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers/cancel"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers/cancel");

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (idempotencyKey.IsSet)
                        httpRequestMessage.Headers.Add("Idempotency-Key", ClientUtils.ParameterToString(idempotencyKey.Value));

                    if (cancelTransfersRequest.IsSet)
                        httpRequestMessage.Content = (cancelTransfersRequest.Value as object) is System.IO.Stream stream
                            ? httpRequestMessage.Content = new StreamContent(stream)
                            : httpRequestMessage.Content = new StringContent(JsonSerializer.Serialize(cancelTransfersRequest.Value, _jsonSerializerOptions));

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentType = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentType != null && httpRequestMessage.Content != null)
                        httpRequestMessage.Content.Headers.ContentType = new MediaTypeHeaderValue(contentType);

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Post;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CancelInitiatedTransfersApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<CancelInitiatedTransfersApiResponse>();
                        CancelInitiatedTransfersApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers/cancel", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCancelInitiatedTransfersDefaultImplementation(apiResponse, idempotencyKey, cancelTransfersRequest);

                        Events.ExecuteOnCancelInitiatedTransfers(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCancelInitiatedTransfersDefaultImplementation(e, "/transfers/cancel", uriBuilder.Path, idempotencyKey, cancelTransfersRequest);
                Events.ExecuteOnErrorCancelInitiatedTransfers(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CancelInitiatedTransfersApiResponse"/>.
        /// </summary>
        public partial class CancelInitiatedTransfersApiResponse : Adyen.Core.Client.ApiResponse, ICancelInitiatedTransfersApiResponse
        {
            /// <summary>
            /// The logger for <see cref="CancelInitiatedTransfersApiResponse"/>.
            /// </summary>
            public ILogger<CancelInitiatedTransfersApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CancelInitiatedTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CancelInitiatedTransfersApiResponse(ILogger<CancelInitiatedTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CancelInitiatedTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CancelInitiatedTransfersApiResponse(ILogger<CancelInitiatedTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetAllTransfers(ref DateTimeOffset createdSince, ref DateTimeOffset createdUntil, ref Option<string> balancePlatform, ref Option<string> accountHolderId, ref Option<string> balanceAccountId, ref Option<string> paymentInstrumentId, ref Option<string> reference, ref Option<string> category, ref Option<string> sortOrder, ref Option<string> cursor, ref Option<int> limit);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="balancePlatform"></param>
        /// <param name="accountHolderId"></param>
        /// <param name="balanceAccountId"></param>
        /// <param name="paymentInstrumentId"></param>
        /// <param name="reference"></param>
        /// <param name="category"></param>
        /// <param name="sortOrder"></param>
        /// <param name="cursor"></param>
        /// <returns></returns>
        private void ValidateGetAllTransfers(Option<string> balancePlatform, Option<string> accountHolderId, Option<string> balanceAccountId, Option<string> paymentInstrumentId, Option<string> reference, Option<string> category, Option<string> sortOrder, Option<string> cursor)
        {
            if (balancePlatform.IsSet && balancePlatform.Value == null)
                throw new ArgumentNullException(nameof(balancePlatform));

            if (accountHolderId.IsSet && accountHolderId.Value == null)
                throw new ArgumentNullException(nameof(accountHolderId));

            if (balanceAccountId.IsSet && balanceAccountId.Value == null)
                throw new ArgumentNullException(nameof(balanceAccountId));

            if (paymentInstrumentId.IsSet && paymentInstrumentId.Value == null)
                throw new ArgumentNullException(nameof(paymentInstrumentId));

            if (reference.IsSet && reference.Value == null)
                throw new ArgumentNullException(nameof(reference));

            if (category.IsSet && category.Value == null)
                throw new ArgumentNullException(nameof(category));

            if (sortOrder.IsSet && sortOrder.Value == null)
                throw new ArgumentNullException(nameof(sortOrder));

            if (cursor.IsSet && cursor.Value == null)
                throw new ArgumentNullException(nameof(cursor));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="createdSince"></param>
        /// <param name="createdUntil"></param>
        /// <param name="balancePlatform"></param>
        /// <param name="accountHolderId"></param>
        /// <param name="balanceAccountId"></param>
        /// <param name="paymentInstrumentId"></param>
        /// <param name="reference"></param>
        /// <param name="category"></param>
        /// <param name="sortOrder"></param>
        /// <param name="cursor"></param>
        /// <param name="limit"></param>
        private void AfterGetAllTransfersDefaultImplementation(IGetAllTransfersApiResponse apiResponse, DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform, Option<string> accountHolderId, Option<string> balanceAccountId, Option<string> paymentInstrumentId, Option<string> reference, Option<string> category, Option<string> sortOrder, Option<string> cursor, Option<int> limit)
        {
            bool suppressDefaultLog = false;
            AfterGetAllTransfers(ref suppressDefaultLog, apiResponse, createdSince, createdUntil, balancePlatform, accountHolderId, balanceAccountId, paymentInstrumentId, reference, category, sortOrder, cursor, limit);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="createdSince"></param>
        /// <param name="createdUntil"></param>
        /// <param name="balancePlatform"></param>
        /// <param name="accountHolderId"></param>
        /// <param name="balanceAccountId"></param>
        /// <param name="paymentInstrumentId"></param>
        /// <param name="reference"></param>
        /// <param name="category"></param>
        /// <param name="sortOrder"></param>
        /// <param name="cursor"></param>
        /// <param name="limit"></param>
        partial void AfterGetAllTransfers(ref bool suppressDefaultLog, IGetAllTransfersApiResponse apiResponse, DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform, Option<string> accountHolderId, Option<string> balanceAccountId, Option<string> paymentInstrumentId, Option<string> reference, Option<string> category, Option<string> sortOrder, Option<string> cursor, Option<int> limit);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="createdSince"></param>
        /// <param name="createdUntil"></param>
        /// <param name="balancePlatform"></param>
        /// <param name="accountHolderId"></param>
        /// <param name="balanceAccountId"></param>
        /// <param name="paymentInstrumentId"></param>
        /// <param name="reference"></param>
        /// <param name="category"></param>
        /// <param name="sortOrder"></param>
        /// <param name="cursor"></param>
        /// <param name="limit"></param>
        private void OnErrorGetAllTransfersDefaultImplementation(Exception exception, string pathFormat, string path, DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform, Option<string> accountHolderId, Option<string> balanceAccountId, Option<string> paymentInstrumentId, Option<string> reference, Option<string> category, Option<string> sortOrder, Option<string> cursor, Option<int> limit)
        {
            bool suppressDefaultLog = false;
            OnErrorGetAllTransfers(ref suppressDefaultLog, exception, pathFormat, path, createdSince, createdUntil, balancePlatform, accountHolderId, balanceAccountId, paymentInstrumentId, reference, category, sortOrder, cursor, limit);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="createdSince"></param>
        /// <param name="createdUntil"></param>
        /// <param name="balancePlatform"></param>
        /// <param name="accountHolderId"></param>
        /// <param name="balanceAccountId"></param>
        /// <param name="paymentInstrumentId"></param>
        /// <param name="reference"></param>
        /// <param name="category"></param>
        /// <param name="sortOrder"></param>
        /// <param name="cursor"></param>
        /// <param name="limit"></param>
        partial void OnErrorGetAllTransfers(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform, Option<string> accountHolderId, Option<string> balanceAccountId, Option<string> paymentInstrumentId, Option<string> reference, Option<string> category, Option<string> sortOrder, Option<string> cursor, Option<int> limit);

        /// <summary>
        /// Get all transfers Returns all the transfers related to a balance account, account holder, or balance platform.  When making this request, you must include at least one of the following: - &#x60;balanceAccountId&#x60; - &#x60;accountHolderId&#x60; - &#x60;balancePlatform&#x60;.  This endpoint supports cursor-based pagination. The response returns the first page of results, and returns links to the next and previous pages when applicable. You can use the links to page through the results.  
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="createdSince">Only include transfers that have been created on or after this point in time. The value must be in ISO 8601 format and not earlier than 6 months before the &#x60;createdUntil&#x60; date. For example, **2021-05-30T15:07:40Z**.</param>
        /// <param name="createdUntil">Only include transfers that have been created on or before this point in time. The value must be in ISO 8601 format and not later than 6 months after the &#x60;createdSince&#x60; date. For example, **2021-05-30T15:07:40Z**.</param>
        /// <param name="balancePlatform">The unique identifier of the [balance platform](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/balancePlatforms/{id}__queryParam_id).  Required if you don&#39;t provide a &#x60;balanceAccountId&#x60; or &#x60;accountHolderId&#x60;. (optional)</param>
        /// <param name="accountHolderId">The unique identifier of the [account holder](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/accountHolders/{id}__queryParam_id).  Required if you don&#39;t provide a &#x60;balanceAccountId&#x60; or &#x60;balancePlatform&#x60;.  If you provide a &#x60;balanceAccountId&#x60;, the &#x60;accountHolderId&#x60; must be related to the &#x60;balanceAccountId&#x60;. (optional)</param>
        /// <param name="balanceAccountId">The unique identifier of the [balance account](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/get/balanceAccounts/{id}__queryParam_id).  Required if you don&#39;t provide an &#x60;accountHolderId&#x60; or &#x60;balancePlatform&#x60;.  If you provide an &#x60;accountHolderId&#x60;, the &#x60;balanceAccountId&#x60; must be related to the &#x60;accountHolderId&#x60;. (optional)</param>
        /// <param name="paymentInstrumentId">The unique identifier of the [payment instrument](https://docs.adyen.com/api-explorer/balanceplatform/latest/get/paymentInstruments/_id_).  To use this parameter, you must also provide a &#x60;balanceAccountId&#x60;, &#x60;accountHolderId&#x60;, or &#x60;balancePlatform&#x60;.  The &#x60;paymentInstrumentId&#x60; must be related to the &#x60;balanceAccountId&#x60; or &#x60;accountHolderId&#x60; that you provide. (optional)</param>
        /// <param name="reference">The reference you provided in the POST [/transfers](https://docs.adyen.com/api-explorer/transfers/latest/post/transfers) request (optional)</param>
        /// <param name="category">The type of transfer.  Possible values:   - **bank**: Transfer to a [transfer instrument](https://docs.adyen.com/api-explorer/#/legalentity/latest/post/transferInstruments__resParam_id) or a bank account.  - **internal**: Transfer to another [balance account](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/post/balanceAccounts__resParam_id) within your platform.  - **issuedCard**: Transfer initiated by a Adyen-issued card.  - **platformPayment**: Fund movements related to payments that are acquired for your users. (optional)</param>
        /// <param name="sortOrder">Determines the sort order of the returned transfers. The sort order is based on the creation date of the transfers.  Possible values:   - **asc**: Ascending order, from oldest to most recent.  - **desc**: Descending order, from most recent to oldest.  Default value: **asc**. (optional)</param>
        /// <param name="cursor">The &#x60;cursor&#x60; returned in the links of the previous response. (optional)</param>
        /// <param name="limit">The number of items returned per page, maximum of 100 items. By default, the response returns 10 items per page. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAllTransfersApiResponse"/>&gt;</returns>
        public async Task<IGetAllTransfersApiResponse> GetAllTransfersAsync(DateTimeOffset createdSince, DateTimeOffset createdUntil, Option<string> balancePlatform = default, Option<string> accountHolderId = default, Option<string> balanceAccountId = default, Option<string> paymentInstrumentId = default, Option<string> reference = default, Option<string> category = default, Option<string> sortOrder = default, Option<string> cursor = default, Option<int> limit = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateGetAllTransfers(balancePlatform, accountHolderId, balanceAccountId, paymentInstrumentId, reference, category, sortOrder, cursor);

                FormatGetAllTransfers(ref createdSince, ref createdUntil, ref balancePlatform, ref accountHolderId, ref balanceAccountId, ref paymentInstrumentId, ref reference, ref category, ref sortOrder, ref cursor, ref limit);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers");

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryString["createdSince"] = ClientUtils.ParameterToString(createdSince);
                    parseQueryString["createdUntil"] = ClientUtils.ParameterToString(createdUntil);

                    if (balancePlatform.IsSet)
                        parseQueryString["balancePlatform"] = ClientUtils.ParameterToString(balancePlatform.Value);

                    if (accountHolderId.IsSet)
                        parseQueryString["accountHolderId"] = ClientUtils.ParameterToString(accountHolderId.Value);

                    if (balanceAccountId.IsSet)
                        parseQueryString["balanceAccountId"] = ClientUtils.ParameterToString(balanceAccountId.Value);

                    if (paymentInstrumentId.IsSet)
                        parseQueryString["paymentInstrumentId"] = ClientUtils.ParameterToString(paymentInstrumentId.Value);

                    if (reference.IsSet)
                        parseQueryString["reference"] = ClientUtils.ParameterToString(reference.Value);

                    if (category.IsSet)
                        parseQueryString["category"] = ClientUtils.ParameterToString(category.Value);

                    if (sortOrder.IsSet)
                        parseQueryString["sortOrder"] = ClientUtils.ParameterToString(sortOrder.Value);

                    if (cursor.IsSet)
                        parseQueryString["cursor"] = ClientUtils.ParameterToString(cursor.Value);

                    if (limit.IsSet)
                        parseQueryString["limit"] = ClientUtils.ParameterToString(limit.Value);

                    uriBuilder.Query = parseQueryString.ToString();

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Get;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetAllTransfersApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<GetAllTransfersApiResponse>();
                        GetAllTransfersApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetAllTransfersDefaultImplementation(apiResponse, createdSince, createdUntil, balancePlatform, accountHolderId, balanceAccountId, paymentInstrumentId, reference, category, sortOrder, cursor, limit);

                        Events.ExecuteOnGetAllTransfers(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetAllTransfersDefaultImplementation(e, "/transfers", uriBuilder.Path, createdSince, createdUntil, balancePlatform, accountHolderId, balanceAccountId, paymentInstrumentId, reference, category, sortOrder, cursor, limit);
                Events.ExecuteOnErrorGetAllTransfers(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetAllTransfersApiResponse"/>.
        /// </summary>
        public partial class GetAllTransfersApiResponse : Adyen.Core.Client.ApiResponse, IGetAllTransfersApiResponse
        {
            /// <summary>
            /// The logger for <see cref="GetAllTransfersApiResponse"/>.
            /// </summary>
            public ILogger<GetAllTransfersApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetAllTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetAllTransfersApiResponse(ILogger<GetAllTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetAllTransfersApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetAllTransfersApiResponse(ILogger<GetAllTransfersApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.FindTransfersResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.FindTransfersResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeOkResponse([NotNullWhen(true)]out Adyen.Transfers.Models.FindTransfersResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetTransfer(ref string id);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="id"></param>
        /// <returns></returns>
        private void ValidateGetTransfer(string id)
        {
            if (id == null)
                throw new ArgumentNullException(nameof(id));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="id"></param>
        private void AfterGetTransferDefaultImplementation(IGetTransferApiResponse apiResponse, string id)
        {
            bool suppressDefaultLog = false;
            AfterGetTransfer(ref suppressDefaultLog, apiResponse, id);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="id"></param>
        partial void AfterGetTransfer(ref bool suppressDefaultLog, IGetTransferApiResponse apiResponse, string id);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="id"></param>
        private void OnErrorGetTransferDefaultImplementation(Exception exception, string pathFormat, string path, string id)
        {
            bool suppressDefaultLog = false;
            OnErrorGetTransfer(ref suppressDefaultLog, exception, pathFormat, path, id);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="id"></param>
        partial void OnErrorGetTransfer(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, string id);

        /// <summary>
        /// Get a transfer Returns the details of a specified transfer.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="id">Unique identifier of the transfer.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetTransferApiResponse"/>&gt;</returns>
        public async Task<IGetTransferApiResponse> GetTransferAsync(string id, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateGetTransfer(id);

                FormatGetTransfer(ref id);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers/{id}"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers/{id}");
                    uriBuilder.Path = uriBuilder.Path.Replace("%7Bid%7D", Uri.EscapeDataString(id.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Get;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetTransferApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<GetTransferApiResponse>();
                        GetTransferApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers/{id}", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetTransferDefaultImplementation(apiResponse, id);

                        Events.ExecuteOnGetTransfer(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetTransferDefaultImplementation(e, "/transfers/{id}", uriBuilder.Path, id);
                Events.ExecuteOnErrorGetTransfer(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetTransferApiResponse"/>.
        /// </summary>
        public partial class GetTransferApiResponse : Adyen.Core.Client.ApiResponse, IGetTransferApiResponse
        {
            /// <summary>
            /// The logger for <see cref="GetTransferApiResponse"/>.
            /// </summary>
            public ILogger<GetTransferApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetTransferApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetTransferApiResponse(ILogger<GetTransferApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetTransferApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetTransferApiResponse(ILogger<GetTransferApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferData? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferData>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeOkResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferData? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatReturnTransfer(ref string transferId, ref Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="transferId"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="returnTransferRequest"></param>
        /// <returns></returns>
        private void ValidateReturnTransfer(string transferId, Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest)
        {
            if (transferId == null)
                throw new ArgumentNullException(nameof(transferId));

            if (idempotencyKey.IsSet && idempotencyKey.Value == null)
                throw new ArgumentNullException(nameof(idempotencyKey));

            if (returnTransferRequest.IsSet && returnTransferRequest.Value == null)
                throw new ArgumentNullException(nameof(returnTransferRequest));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="transferId"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="returnTransferRequest"></param>
        private void AfterReturnTransferDefaultImplementation(IReturnTransferApiResponse apiResponse, string transferId, Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest)
        {
            bool suppressDefaultLog = false;
            AfterReturnTransfer(ref suppressDefaultLog, apiResponse, transferId, idempotencyKey, returnTransferRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="transferId"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="returnTransferRequest"></param>
        partial void AfterReturnTransfer(ref bool suppressDefaultLog, IReturnTransferApiResponse apiResponse, string transferId, Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="transferId"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="returnTransferRequest"></param>
        private void OnErrorReturnTransferDefaultImplementation(Exception exception, string pathFormat, string path, string transferId, Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest)
        {
            bool suppressDefaultLog = false;
            OnErrorReturnTransfer(ref suppressDefaultLog, exception, pathFormat, path, transferId, idempotencyKey, returnTransferRequest);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="transferId"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="returnTransferRequest"></param>
        partial void OnErrorReturnTransfer(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, string transferId, Option<string> idempotencyKey, Option<ReturnTransferRequest> returnTransferRequest);

        /// <summary>
        /// Return a transfer Initiates the return of previously transferred funds without creating a new &#x60;transferId&#x60;.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="transferId">The unique identifier of the transfer to be returned.</param>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="returnTransferRequest"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IReturnTransferApiResponse"/>&gt;</returns>
        public async Task<IReturnTransferApiResponse> ReturnTransferAsync(string transferId, Option<string> idempotencyKey = default, Option<ReturnTransferRequest> returnTransferRequest = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateReturnTransfer(transferId, idempotencyKey, returnTransferRequest);

                FormatReturnTransfer(ref transferId, ref idempotencyKey, returnTransferRequest);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers/{transferId}/returns"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers/{transferId}/returns");
                    uriBuilder.Path = uriBuilder.Path.Replace("%7BtransferId%7D", Uri.EscapeDataString(transferId.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (idempotencyKey.IsSet)
                        httpRequestMessage.Headers.Add("Idempotency-Key", ClientUtils.ParameterToString(idempotencyKey.Value));

                    if (returnTransferRequest.IsSet)
                        httpRequestMessage.Content = (returnTransferRequest.Value as object) is System.IO.Stream stream
                            ? httpRequestMessage.Content = new StreamContent(stream)
                            : httpRequestMessage.Content = new StringContent(JsonSerializer.Serialize(returnTransferRequest.Value, _jsonSerializerOptions));

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentType = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentType != null && httpRequestMessage.Content != null)
                        httpRequestMessage.Content.Headers.ContentType = new MediaTypeHeaderValue(contentType);

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Post;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<ReturnTransferApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<ReturnTransferApiResponse>();
                        ReturnTransferApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers/{transferId}/returns", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterReturnTransferDefaultImplementation(apiResponse, transferId, idempotencyKey, returnTransferRequest);

                        Events.ExecuteOnReturnTransfer(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorReturnTransferDefaultImplementation(e, "/transfers/{transferId}/returns", uriBuilder.Path, transferId, idempotencyKey, returnTransferRequest);
                Events.ExecuteOnErrorReturnTransfer(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="ReturnTransferApiResponse"/>.
        /// </summary>
        public partial class ReturnTransferApiResponse : Adyen.Core.Client.ApiResponse, IReturnTransferApiResponse
        {
            /// <summary>
            /// The logger for <see cref="ReturnTransferApiResponse"/>.
            /// </summary>
            public ILogger<ReturnTransferApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="ReturnTransferApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ReturnTransferApiResponse(ILogger<ReturnTransferApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="ReturnTransferApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ReturnTransferApiResponse(ILogger<ReturnTransferApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.ReturnTransferResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.ReturnTransferResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeOkResponse([NotNullWhen(true)]out Adyen.Transfers.Models.ReturnTransferResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatTransferFunds(ref Option<string> idempotencyKey, ref Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo);

        /// <summary>
        /// Validates the request parameters.
        /// </summary>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="transferInfo"></param>
        /// <returns></returns>
        private void ValidateTransferFunds(Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo)
        {
            if (idempotencyKey.IsSet && idempotencyKey.Value == null)
                throw new ArgumentNullException(nameof(idempotencyKey));

            if (wWWAuthenticate.IsSet && wWWAuthenticate.Value == null)
                throw new ArgumentNullException(nameof(wWWAuthenticate));

            if (transferInfo.IsSet && transferInfo.Value == null)
                throw new ArgumentNullException(nameof(transferInfo));
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="transferInfo"></param>
        private void AfterTransferFundsDefaultImplementation(ITransferFundsApiResponse apiResponse, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo)
        {
            bool suppressDefaultLog = false;
            AfterTransferFunds(ref suppressDefaultLog, apiResponse, idempotencyKey, wWWAuthenticate, transferInfo);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponse.DownloadedAt - apiResponse.RequestedAt).TotalSeconds, apiResponse.StatusCode, apiResponse.Path);
        }

        /// <summary>
        /// Processes the server response.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponse"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="transferInfo"></param>
        partial void AfterTransferFunds(ref bool suppressDefaultLog, ITransferFundsApiResponse apiResponse, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response.
        /// </summary>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="transferInfo"></param>
        private void OnErrorTransferFundsDefaultImplementation(Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo)
        {
            bool suppressDefaultLog = false;
            OnErrorTransferFunds(ref suppressDefaultLog, exception, pathFormat, path, idempotencyKey, wWWAuthenticate, transferInfo);
            if (!suppressDefaultLog)
                Logger.LogError(exception, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling.
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="exception"></param>
        /// <param name="pathFormat"></param>
        /// <param name="path"></param>
        /// <param name="idempotencyKey"></param>
        /// <param name="wWWAuthenticate"></param>
        /// <param name="transferInfo"></param>
        partial void OnErrorTransferFunds(ref bool suppressDefaultLog, Exception exception, string pathFormat, string path, Option<string> idempotencyKey, Option<string> wWWAuthenticate, Option<TransferInfo> transferInfo);

        /// <summary>
        /// Transfer funds &gt;Versions 1 and 2 of the Transfers API are deprecated. If you are just starting your implementation, use the latest version.  Starts a request to transfer funds to: - [Balance accounts](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/post/balanceAccounts) - [Transfer instruments](https://docs.adyen.com/api-explorer/#/legalentity/latest/post/transferInstruments) - [Third-party bank accounts](https://docs.adyen.com/payouts/payout-service/pay-out-to-bank-accounts) - [Third-party cards](https://docs.adyen.com/payouts/payout-service/pay-out-to-cards)  Adyen sends the outcome of the transfer request through webhooks.  To use this endpoint: - Your API credential must have the **TransferService Webservice Initiate** [role](https://docs.adyen.com/platforms/manage-access/webservice-roles/?tab&#x3D;transfers_3). - The account holder must have the required [capabilities](https://docs.adyen.com/platforms/verification-overview/capabilities).  Reach out to your Adyen contact to set up these permissions.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call.</exception>
        /// <param name="idempotencyKey">A unique identifier for the message with a maximum of 64 characters (we recommend a UUID). (optional)</param>
        /// <param name="wWWAuthenticate">Header for authenticating through SCA (optional)</param>
        /// <param name="transferInfo"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ITransferFundsApiResponse"/>&gt;</returns>
        public async Task<ITransferFundsApiResponse> TransferFundsAsync(Option<string> idempotencyKey = default, Option<string> wWWAuthenticate = default, Option<TransferInfo> transferInfo = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilder = new UriBuilder();

            try
            {
                ValidateTransferFunds(idempotencyKey, wWWAuthenticate, transferInfo);

                FormatTransferFunds(ref idempotencyKey, ref wWWAuthenticate, transferInfo);

                using (HttpRequestMessage httpRequestMessage = new HttpRequestMessage())
                {
                    uriBuilder.Host = HttpClient.BaseAddress!.Host;
                    uriBuilder.Port = HttpClient.BaseAddress.Port;
                    uriBuilder.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilder.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/transfers"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/transfers");

                    System.Collections.Specialized.NameValueCollection parseQueryString = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (idempotencyKey.IsSet)
                        httpRequestMessage.Headers.Add("Idempotency-Key", ClientUtils.ParameterToString(idempotencyKey.Value));

                    if (wWWAuthenticate.IsSet)
                        httpRequestMessage.Headers.Add("WWW-Authenticate", ClientUtils.ParameterToString(wWWAuthenticate.Value));

                    if (transferInfo.IsSet)
                        httpRequestMessage.Content = (transferInfo.Value as object) is System.IO.Stream stream
                            ? httpRequestMessage.Content = new StreamContent(stream)
                            : httpRequestMessage.Content = new StringContent(JsonSerializer.Serialize(transferInfo.Value, _jsonSerializerOptions));

                    ApiKeyToken apiKeyToken3 = (ApiKeyToken) ApiKeyProvider.Get();
                    apiKeyToken3.AddTokenToHttpRequestMessageHeader(httpRequestMessage);
                    httpRequestMessage.RequestUri = uriBuilder.Uri;

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentType = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentType != null && httpRequestMessage.Content != null)
                        httpRequestMessage.Content.Headers.ContentType = new MediaTypeHeaderValue(contentType);

                    string[] accepts = new string[] {
                        "application/json"
                    };

                    string? accept = ClientUtils.SelectHeaderAccept(accepts);

                    if (accept != null)
                        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(accept));

                    httpRequestMessage.Method = HttpMethod.Post;

                    DateTime requestedAt = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessage = await HttpClient.SendAsync(httpRequestMessage, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<TransferFundsApiResponse> apiResponseLogger = LoggerFactory.CreateLogger<TransferFundsApiResponse>();
                        TransferFundsApiResponse apiResponse;

                        switch ((int)httpResponseMessage.StatusCode) {
                            default: {
                                string responseContent = await httpResponseMessage.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponse = new(apiResponseLogger, httpRequestMessage, httpResponseMessage, responseContent, "/transfers", requestedAt, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterTransferFundsDefaultImplementation(apiResponse, idempotencyKey, wWWAuthenticate, transferInfo);

                        Events.ExecuteOnTransferFunds(apiResponse);
                    
                        return apiResponse;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorTransferFundsDefaultImplementation(e, "/transfers", uriBuilder.Path, idempotencyKey, wWWAuthenticate, transferInfo);
                Events.ExecuteOnErrorTransferFunds(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="TransferFundsApiResponse"/>.
        /// </summary>
        public partial class TransferFundsApiResponse : Adyen.Core.Client.ApiResponse, ITransferFundsApiResponse
        {
            /// <summary>
            /// The logger for <see cref="TransferFundsApiResponse"/>.
            /// </summary>
            public ILogger<TransferFundsApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="TransferFundsApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public TransferFundsApiResponse(ILogger<TransferFundsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="TransferFundsApiResponse"/>.
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public TransferFundsApiResponse(ILogger<TransferFundsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 202 Accepted.
            /// </summary>
            /// <returns></returns>
            public bool IsAccepted => 202 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 202 Accepted.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.Transfer? Accepted()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsAccepted
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.Transfer>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 202 Accepted and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeAcceptedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.Transfer? result)
            {
                result = null;

                try
                {
                    result = Accepted();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)202);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.ServiceError? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.ServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnauthorizedResponse([NotNullWhen(true)]out Adyen.Transfers.Models.ServiceError? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public bool IsForbidden => 403 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 403 Forbidden.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? Forbidden()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsForbidden
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 403 Forbidden and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeForbiddenResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = Forbidden();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)403);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public bool IsUnprocessableContent => 422 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 422 UnprocessableContent.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? UnprocessableContent()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnprocessableContent
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 422 UnprocessableContent and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeUnprocessableContentResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = UnprocessableContent();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)422);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError.
            /// </summary>
            /// <returns></returns>
            public Adyen.Transfers.Models.TransferServiceRestServiceError? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<Adyen.Transfers.Models.TransferServiceRestServiceError>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null.
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryDeserializeInternalServerErrorResponse([NotNullWhen(true)]out Adyen.Transfers.Models.TransferServiceRestServiceError? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } 
                catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }
    }
}
