// <auto-generated>
/*
 * Report webhooks
 *
 * Adyen sends webhooks to inform your system that reports were generated and are ready to be downloaded.  You can download reports programmatically by making an HTTP GET request, or manually from your [Balance Platform Customer Area](https://balanceplatform-test.adyen.com/balanceplatform).
 *
 * The version of the OpenAPI document: 1
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.ReportWebhooks.Client;

namespace Adyen.ReportWebhooks.Models
{
    /// <summary>
    /// ReportNotificationData.
    /// </summary>
    public partial class ReportNotificationData
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="ReportNotificationData" /> class.
        /// </summary>
        /// <param name="downloadUrl">The URL at which you can download the report. To download, you must authenticate your GET request with your [API credentials](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/overview).</param>
        /// <param name="fileName">The filename of the report.</param>
        /// <param name="reportType">The type of report. Possible values:  - &#x60;balanceplatform_accounting_interactive_report&#x60; - &#x60;balanceplatform_accounting_report&#x60; - &#x60;balanceplatform_balance_report&#x60; - &#x60;balanceplatform_fee_report&#x60; - &#x60;balanceplatform_payment_instrument_report&#x60; - &#x60;balanceplatform_payout_report&#x60; - &#x60;balanceplatform_statement_report&#x60;  </param>
        /// <param name="accountHolder">accountHolder</param>
        /// <param name="balanceAccount">balanceAccount</param>
        /// <param name="balancePlatform">The unique identifier of the balance platform.</param>
        /// <param name="creationDate">The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.</param>
        /// <param name="id">The ID of the resource.</param>
        [JsonConstructor]
        public ReportNotificationData(string downloadUrl, string fileName, string reportType, Option<ResourceReference?> accountHolder = default, Option<ResourceReference?> balanceAccount = default, Option<string?> balancePlatform = default, Option<DateTimeOffset?> creationDate = default, Option<string?> id = default)
        {
            DownloadUrl = downloadUrl;
            FileName = fileName;
            ReportType = reportType;
            _AccountHolderOption = accountHolder;
            _BalanceAccountOption = balanceAccount;
            _BalancePlatformOption = balancePlatform;
            _CreationDateOption = creationDate;
            _IdOption = id;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public ReportNotificationData()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// The URL at which you can download the report. To download, you must authenticate your GET request with your [API credentials](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/overview).
        /// </summary>
        /// <value>The URL at which you can download the report. To download, you must authenticate your GET request with your [API credentials](https://docs.adyen.com/api-explorer/#/balanceplatform/latest/overview).</value>
        [JsonPropertyName("downloadUrl")]
        public string DownloadUrl { get; set; }

        /// <summary>
        /// The filename of the report.
        /// </summary>
        /// <value>The filename of the report.</value>
        [JsonPropertyName("fileName")]
        public string FileName { get; set; }

        /// <summary>
        /// The type of report. Possible values:  - &#x60;balanceplatform_accounting_interactive_report&#x60; - &#x60;balanceplatform_accounting_report&#x60; - &#x60;balanceplatform_balance_report&#x60; - &#x60;balanceplatform_fee_report&#x60; - &#x60;balanceplatform_payment_instrument_report&#x60; - &#x60;balanceplatform_payout_report&#x60; - &#x60;balanceplatform_statement_report&#x60;  
        /// </summary>
        /// <value>The type of report. Possible values:  - `balanceplatform_accounting_interactive_report` - `balanceplatform_accounting_report` - `balanceplatform_balance_report` - `balanceplatform_fee_report` - `balanceplatform_payment_instrument_report` - `balanceplatform_payout_report` - `balanceplatform_statement_report`  </value>
        [JsonPropertyName("reportType")]
        public string ReportType { get; set; }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="AccountHolder"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<ResourceReference?> _AccountHolderOption { get; private set; }

        /// <summary>
        /// <see cref="AccountHolder"/>.
        /// </summary>
        [JsonPropertyName("accountHolder")]
        public ResourceReference? AccountHolder { get { return this._AccountHolderOption; } set { this._AccountHolderOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="BalanceAccount"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<ResourceReference?> _BalanceAccountOption { get; private set; }

        /// <summary>
        /// <see cref="BalanceAccount"/>.
        /// </summary>
        [JsonPropertyName("balanceAccount")]
        public ResourceReference? BalanceAccount { get { return this._BalanceAccountOption; } set { this._BalanceAccountOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="BalancePlatform"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _BalancePlatformOption { get; private set; }

        /// <summary>
        /// The unique identifier of the balance platform.
        /// </summary>
        /// <value>The unique identifier of the balance platform.</value>
        [JsonPropertyName("balancePlatform")]
        public string? BalancePlatform { get { return this._BalancePlatformOption; } set { this._BalancePlatformOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="CreationDate"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTimeOffset?> _CreationDateOption { get; private set; }

        /// <summary>
        /// The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.
        /// </summary>
        /// <value>The date and time when the event was triggered, in ISO 8601 extended format. For example, **2025-03-19T10:15:30+01:00**.</value>
        [JsonPropertyName("creationDate")]
        public DateTimeOffset? CreationDate { get { return this._CreationDateOption; } set { this._CreationDateOption = new(value); } }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="Id"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _IdOption { get; private set; }

        /// <summary>
        /// The ID of the resource.
        /// </summary>
        /// <value>The ID of the resource.</value>
        [JsonPropertyName("id")]
        public string? Id { get { return this._IdOption; } set { this._IdOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class ReportNotificationData {\n");
            sb.Append("  DownloadUrl: ").Append(DownloadUrl).Append("\n");
            sb.Append("  FileName: ").Append(FileName).Append("\n");
            sb.Append("  ReportType: ").Append(ReportType).Append("\n");
            sb.Append("  AccountHolder: ").Append(AccountHolder).Append("\n");
            sb.Append("  BalanceAccount: ").Append(BalanceAccount).Append("\n");
            sb.Append("  BalancePlatform: ").Append(BalancePlatform).Append("\n");
            sb.Append("  CreationDate: ").Append(CreationDate).Append("\n");
            sb.Append("  Id: ").Append(Id).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="ReportNotificationData" />
    /// </summary>
    public class ReportNotificationDataJsonConverter : JsonConverter<ReportNotificationData>
    {
        /// <summary>
        /// The format to use to serialize CreationDate.
        /// </summary>
        public static string CreationDateFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="ReportNotificationData"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="ReportNotificationData"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override ReportNotificationData Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> downloadUrl = default;
            Option<string?> fileName = default;
            Option<string?> reportType = default;
            Option<ResourceReference?> accountHolder = default;
            Option<ResourceReference?> balanceAccount = default;
            Option<string?> balancePlatform = default;
            Option<DateTimeOffset?> creationDate = default;
            Option<string?> id = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "downloadUrl":
                            downloadUrl = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "fileName":
                            fileName = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "reportType":
                            reportType = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "accountHolder":
                            accountHolder = new Option<ResourceReference?>(JsonSerializer.Deserialize<ResourceReference>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "balanceAccount":
                            balanceAccount = new Option<ResourceReference?>(JsonSerializer.Deserialize<ResourceReference>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "balancePlatform":
                            balancePlatform = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "creationDate":
                            creationDate = new Option<DateTimeOffset?>(JsonSerializer.Deserialize<DateTimeOffset>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "id":
                            id = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!downloadUrl.IsSet)
                throw new ArgumentException("Property is required for class ReportNotificationData.", nameof(downloadUrl));

            if (!fileName.IsSet)
                throw new ArgumentException("Property is required for class ReportNotificationData.", nameof(fileName));

            if (!reportType.IsSet)
                throw new ArgumentException("Property is required for class ReportNotificationData.", nameof(reportType));

            return new ReportNotificationData(downloadUrl.Value!, fileName.Value!, reportType.Value!, accountHolder, balanceAccount, balancePlatform, creationDate, id);
        }

        /// <summary>
        /// Serializes a <see cref="ReportNotificationData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="reportNotificationData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, ReportNotificationData reportNotificationData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, reportNotificationData, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="ReportNotificationData"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="reportNotificationData"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, ReportNotificationData reportNotificationData, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (reportNotificationData.DownloadUrl != null)
                writer.WriteString("downloadUrl", reportNotificationData.DownloadUrl);

            if (reportNotificationData.FileName != null)
                writer.WriteString("fileName", reportNotificationData.FileName);

            if (reportNotificationData.ReportType != null)
                writer.WriteString("reportType", reportNotificationData.ReportType);

            if (reportNotificationData._AccountHolderOption.IsSet)
            {
                writer.WritePropertyName("accountHolder");
                JsonSerializer.Serialize(writer, reportNotificationData.AccountHolder, jsonSerializerOptions);
            }
            if (reportNotificationData._BalanceAccountOption.IsSet)
            {
                writer.WritePropertyName("balanceAccount");
                JsonSerializer.Serialize(writer, reportNotificationData.BalanceAccount, jsonSerializerOptions);
            }
            if (reportNotificationData._BalancePlatformOption.IsSet)
                if (reportNotificationData.BalancePlatform != null)
                    writer.WriteString("balancePlatform", reportNotificationData.BalancePlatform);

            if (reportNotificationData._CreationDateOption.IsSet)
                writer.WriteString("creationDate", reportNotificationData._CreationDateOption.Value!.Value.ToString(CreationDateFormat));

            if (reportNotificationData._IdOption.IsSet)
                if (reportNotificationData.Id != null)
                    writer.WriteString("id", reportNotificationData.Id);
        }
    }
}
