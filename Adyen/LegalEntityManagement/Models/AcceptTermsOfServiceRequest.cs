// <auto-generated>
/*
 * Legal Entity Management API
 *
 * The Legal Entity Management API enables you to manage legal entities that contain information required for verification.  ## Authentication Each request to the Legal Entity Management API must be signed with an API key. Generate an API key in your Customer Area if you have a [platform setup](https://docs.adyen.com/platforms/manage-access/api-credentials-web-service/#generate-api-key) or [marketplace setup](https://docs.adyen.com/marketplaces/manage-access/api-credentials-web-service/#generate-api-key).   If you have an Adyen Issuing integration, [generate an API key](https://docs.adyen.com/issuing/manage-access/api-credentials-web-service/#generate-api-key) in your Balance Platform Customer Area.  To connect to the API, add an `X-API-Key` header with the API key as the value. For example:  ``` curl -H \"X-API-Key: YOUR_API_KEY\" \\ -H \"Content-Type: application/json\" \\ ... ``` ## Versioning The Legal Entity Management API supports [versioning](https://docs.adyen.com/development-resources/versioning) using a version suffix in the endpoint URL. This suffix has the following format: \"vXX\", where XX is the version number.  For example: ``` https://kyc-test.adyen.com/lem/v4/legalEntities ``` ## Rate limits We enforce rate limits on Legal Entity Management API endpoints. When the number of requests you send exceeds a threshold within a time frame, additional requests are blocked until the time frame ends. Current limits:  - Live environments: 700 requests per 5 seconds.  - Test environments: 200 requests per 5 seconds.  - Failed requests are subject to a limit of 5 failures per 10 seconds.  ## Going live When going live, generate an API key in your [live Customer Area](https://ca-live.adyen.com/ca/) if you have an Adyen for Platforms integration or [live Balance Platform Customer Area](https://balanceplatform-live.adyen.com/balanceplatform/) if you have an Adyen Issuing integration.You can then use the API key to send requests to `https://kyc-live.adyen.com/lem/v4`.  
 *
 * The version of the OpenAPI document: 4
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Adyen.Core;
using Adyen.LegalEntityManagement.Client;

namespace Adyen.LegalEntityManagement.Models
{
    /// <summary>
    /// AcceptTermsOfServiceRequest.
    /// </summary>
    public partial class AcceptTermsOfServiceRequest : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="AcceptTermsOfServiceRequest" /> class.
        /// </summary>
        /// <param name="acceptedBy">The legal entity ID of the user accepting the Terms of Service.  For organizations, this must be the individual legal entity ID of an authorized signatory for the organization.  For sole proprietorships, this must be the individual legal entity ID of the owner.  For individuals, this must be the individual legal entity id of either the individual, parent, or guardian.  </param>
        /// <param name="ipAddress">The IP address of the user accepting the Terms of Service.</param>
        [JsonConstructor]
        public AcceptTermsOfServiceRequest(string acceptedBy, Option<string?> ipAddress = default)
        {
            AcceptedBy = acceptedBy;
            _IpAddressOption = ipAddress;
            OnCreated();
        }
        
        /// <summary>
        /// Best practice: Use the constructor to initialize your objects to understand which parameters are required/optional.
        /// </summary>
        public AcceptTermsOfServiceRequest()
        {
        }

        partial void OnCreated();

        /// <summary>
        /// The legal entity ID of the user accepting the Terms of Service.  For organizations, this must be the individual legal entity ID of an authorized signatory for the organization.  For sole proprietorships, this must be the individual legal entity ID of the owner.  For individuals, this must be the individual legal entity id of either the individual, parent, or guardian.  
        /// </summary>
        /// <value>The legal entity ID of the user accepting the Terms of Service.  For organizations, this must be the individual legal entity ID of an authorized signatory for the organization.  For sole proprietorships, this must be the individual legal entity ID of the owner.  For individuals, this must be the individual legal entity id of either the individual, parent, or guardian.  </value>
        [JsonPropertyName("acceptedBy")]
        public string AcceptedBy { get; set; }

        /// <summary>
        /// This is used to track if an optional field is set. If set, <see cref="IpAddress"/> will be populated.
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> _IpAddressOption { get; private set; }

        /// <summary>
        /// The IP address of the user accepting the Terms of Service.
        /// </summary>
        /// <value>The IP address of the user accepting the Terms of Service.</value>
        [JsonPropertyName("ipAddress")]
        public string? IpAddress { get { return this._IpAddressOption; } set { this._IpAddressOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class AcceptTermsOfServiceRequest {\n");
            sb.Append("  AcceptedBy: ").Append(AcceptedBy).Append("\n");
            sb.Append("  IpAddress: ").Append(IpAddress).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="AcceptTermsOfServiceRequest" />
    /// </summary>
    public class AcceptTermsOfServiceRequestJsonConverter : JsonConverter<AcceptTermsOfServiceRequest>
    {
        /// <summary>
        /// Deserializes json to <see cref="AcceptTermsOfServiceRequest"/>.
        /// </summary>
        /// <param name="utf8JsonReader"><see cref="Utf8JsonReader"/>.</param>
        /// <param name="typeToConvert"><see cref="Type"/>.</param>
        /// <param name="jsonSerializerOptions">The <see cref="JsonSerializerOptions"/>, initialized from <see cref="HostConfiguration"/>.</param>
        /// <returns><see cref="AcceptTermsOfServiceRequest"/>.</returns>
        /// <exception cref="JsonException"></exception>
        public override AcceptTermsOfServiceRequest Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> acceptedBy = default;
            Option<string?> ipAddress = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? jsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (jsonPropertyName)
                    {
                        case "acceptedBy":
                            acceptedBy = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "ipAddress":
                            ipAddress = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }
            
            if (!acceptedBy.IsSet)
                throw new ArgumentException("Property is required for class AcceptTermsOfServiceRequest.", nameof(acceptedBy));

            return new AcceptTermsOfServiceRequest(acceptedBy.Value!, ipAddress);
        }

        /// <summary>
        /// Serializes a <see cref="AcceptTermsOfServiceRequest"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="acceptTermsOfServiceRequest"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, AcceptTermsOfServiceRequest acceptTermsOfServiceRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            
            writer.WriteStartObject();
            
            WriteProperties(writer, acceptTermsOfServiceRequest, jsonSerializerOptions);
            
            writer.WriteEndObject();
            
        }

        /// <summary>
        /// Serializes the properties of <see cref="AcceptTermsOfServiceRequest"/>.
        /// </summary>
        /// <param name="writer"><see cref="Utf8JsonWriter"/></param>
        /// <param name="acceptTermsOfServiceRequest"></param>
        /// <param name="jsonSerializerOptions"><see cref="JsonSerializerOptions"/></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, AcceptTermsOfServiceRequest acceptTermsOfServiceRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            
            if (acceptTermsOfServiceRequest.AcceptedBy != null)
                writer.WriteString("acceptedBy", acceptTermsOfServiceRequest.AcceptedBy);

            if (acceptTermsOfServiceRequest._IpAddressOption.IsSet)
                if (acceptTermsOfServiceRequest.IpAddress != null)
                    writer.WriteString("ipAddress", acceptTermsOfServiceRequest.IpAddress);
        }
    }
}
